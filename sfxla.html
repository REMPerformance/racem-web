<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />

  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">

  <title>RACEM | Streetfighter LA</title>
  <meta name="description" content="Streetfighter LA – autorizovaný predaj cez RACEM. Výber modelu, filtre, výber materiálu a rýchla objednávka cez formulár." />
  <meta name="robots" content="index,follow" />
  <link rel="canonical" href="https://racem.sk/streetfighter-la.html" />

  <style>
    :root{
      --red:#b31f24;
      --bg:#0b0b0b;
      --panel:#141414;
      --panel2:#101010;
      --text:#ffffff;
      --muted:#cfcfcf;
      --muted2:#9b9b9b;
      --line: rgba(255,255,255,0.08);
      --shadow: 0 22px 70px rgba(0,0,0,0.55);

      /* SFXLA vibe */
      --bw:#ffffff;
      --bwText:#0a0a0a;
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family: Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      overflow-x:hidden;
    }
    a{color:inherit}

    /* ===== BACKGROUND FX (RACEM) ===== */
    .bg{
      position:fixed; inset:0; z-index:-6; pointer-events:none;
      background:
        radial-gradient(circle at 15% 20%, rgba(179,31,36,0.22), transparent 45%),
        radial-gradient(circle at 88% 72%, rgba(179,31,36,0.12), transparent 46%),
        radial-gradient(circle at 55% 55%, rgba(255,255,255,0.03), transparent 60%);
      transform: translateZ(0);
    }
    .bg::after{
      content:""; position:absolute; inset:0; opacity:.55;
      background:
        repeating-linear-gradient(90deg, rgba(255,255,255,0.04) 0 1px, transparent 1px 44px),
        repeating-linear-gradient(0deg, rgba(255,255,255,0.02) 0 1px, transparent 1px 44px);
      animation: gridMove 24s linear infinite;
    }
    @keyframes gridMove{
      from{ background-position:0 0, 0 0; }
      to{ background-position:600px 0, 0 600px; }
    }
    .noise{
      position:fixed; inset:-20%; z-index:-5; pointer-events:none;
      opacity:.08;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.9'/%3E%3C/svg%3E");
      animation: noiseMove 10s steps(10) infinite;
    }
    @keyframes noiseMove{
      0%{transform:translate(0,0)}
      20%{transform:translate(-3%,2%)}
      40%{transform:translate(4%,-2%)}
      60%{transform:translate(-2%,-4%)}
      80%{transform:translate(3%,3%)}
      100%{transform:translate(0,0)}
    }

    .wrap{ width:100%; padding:0 6vw; }
    section{ padding:100px 0; position:relative; }

    /* ===== TOPBAR ===== */
    .topbar{
      position:sticky; top:0; z-index:100;
      backdrop-filter: blur(12px);
      background: rgba(10,10,10,0.62);
      border-bottom: 1px solid rgba(255,255,255,0.06);
    }
    .nav{
      width:100%;
      padding: 14px 6vw;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 18px;
    }
    .brand-mini{
      display:flex; align-items:center; text-decoration:none;
      gap: 12px;
    }
    .brand-mini img{
      height:64px; width:auto; display:block; object-fit:contain;
      transition: transform .35s ease, filter .35s ease;
    }
    .brand-mini:hover img{
      transform: scale(1.06);
      filter: drop-shadow(0 10px 24px rgba(179,31,36,.28));
    }
    .brand-title{
      font-weight: 1000;
      letter-spacing:.18em;
      text-transform: uppercase;
      font-size: 12px;
      color: rgba(255,255,255,0.78);
      display:flex;
      flex-direction:column;
      line-height:1.1;
      margin-top:2px;
    }
    .brand-title b{
      font-size: 14px;
      color:#fff;
      letter-spacing:.14em;
    }

    .nav-links{
      display:flex;
      align-items:center;
      gap: 28px;
      flex-wrap:wrap;
      justify-content:center;
    }
    .nav-links a{
      position:relative;
      color: rgba(255,255,255,0.76);
      text-decoration:none;
      font-size: 12px;
      font-weight: 1000;
      text-transform: uppercase;
      letter-spacing: .16em;
      white-space: nowrap;
      padding: 6px 0;
      transition: color .25s ease, text-shadow .25s ease, transform .25s ease;
    }
    .nav-links a:hover{
      color:#fff;
      text-shadow: 0 0 14px rgba(179,31,36,0.25);
      transform: translateY(-1px);
    }
    .nav-links a::after{
      content:"";
      position:absolute;
      left:50%;
      bottom:-10px;
      width:0;
      height:2px;
      background: var(--red);
      box-shadow: 0 0 10px rgba(179,31,36,.75), 0 0 22px rgba(179,31,36,.35);
      transform: translateX(-50%);
      transition: width .32s ease;
    }
    .nav-links a:hover::after{ width: 125%; }

    /* ===== HERO ===== */
    .hero{
      padding: 0;
      border-bottom: 1px solid rgba(255,255,255,0.06);
      background:#050505;
    }
    .heroMedia{
      position:relative;
      min-height: min(70vh, 720px);
      overflow:hidden;
      display:grid;
      place-items:end;
    }
    .heroMedia::before{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(circle at 20% 30%, rgba(179,31,36,0.28), transparent 55%),
        radial-gradient(circle at 85% 70%, rgba(255,255,255,0.08), transparent 60%),
        linear-gradient(180deg, rgba(0,0,0,0.05), rgba(0,0,0,0.78));
      z-index:2;
      pointer-events:none;
    }
    .heroMedia::after{
      content:"";
      position:absolute; left:0; right:0; bottom:0;
      height: 160px;
      background: linear-gradient(to bottom, rgba(0,0,0,0), rgba(11,11,11,1));
      z-index:2;
      pointer-events:none;
    }
    .heroBg{
      position:absolute; inset:0;
      background: url("assets/editedsfxla.png") center/cover no-repeat;
      transform: scale(1.02);
      filter: contrast(1.05) saturate(1.05);
    }
    .heroInner{
      position:relative; z-index:3;
      width:100%;
      padding: 0 6vw 44px;
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:22px;
      flex-wrap:wrap;
    }
    .heroLeft{max-width: 980px;}
    .pill{
      display:inline-flex; gap:10px; align-items:center;
      padding:8px 12px;
      border:1px solid var(--line);
      background: rgba(20,20,20,0.55);
      border-radius:999px;
      color: rgba(255,255,255,0.78);
      font-size:12px;
      letter-spacing:.12em;
      text-transform:uppercase;
      width: fit-content;
      backdrop-filter: blur(10px);
    }
    .dot{ width:7px;height:7px;border-radius:50%; background: var(--red); box-shadow: 0 0 18px rgba(179,31,36,.7); }
    .heroTitle{
      margin: 14px 0 10px;
      font-size: clamp(34px, 5.6vw, 72px);
      letter-spacing: .08em;
      text-transform: uppercase;
      font-weight: 1000;
      line-height: 1.02;
      text-shadow: 0 20px 60px rgba(0,0,0,0.85);
    }
    .heroText{
      margin:0;
      color: rgba(255,255,255,0.78);
      line-height:1.7;
      font-size: 16px;
      max-width: 980px;
    }
    .heroActions{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .btn{
      border:none;
      cursor:pointer;
      padding: 12px 14px;
      border-radius: 14px;
      background: rgba(0,0,0,0.35);
      border:1px solid rgba(255,255,255,0.14);
      color:#fff;
      font-size: 12px;
      font-weight: 1000;
      letter-spacing: .12em;
      text-transform: uppercase;
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 60px rgba(0,0,0,0.55);
      transition: transform .18s ease, border-color .18s ease, background .18s ease;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:10px;
    }
    .btn:hover{
      transform: translateY(-2px);
      border-color: rgba(179,31,36,0.42);
      background: rgba(179,31,36,0.18);
    }
    .btn.secondary{
      border-color: rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.06);
    }
    .btn.secondary:hover{
      border-color: rgba(255,255,255,0.32);
      background: rgba(255,255,255,0.09);
    }

    /* ===== SFXLA BLACK/WHITE BRAND STRIP ===== */
    .brandStrip{
      background: var(--bw);
      color: var(--bwText);
      border-top: 1px solid rgba(0,0,0,0.08);
      border-bottom: 1px solid rgba(0,0,0,0.08);
    }
    .brandStripInner{
      padding: 26px 6vw;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 18px;
      flex-wrap:wrap;
    }
    .sfxlaLogoRow{
      display:flex;
      align-items:center;
      gap: 16px;
    }
    .sfxlaLogoRow img{
      height: 46px; width:auto; display:block; object-fit:contain;
      filter: none;
    }
    .sfxlaMeta{
      display:flex;
      flex-direction:column;
      line-height:1.2;
    }
    .sfxlaMeta b{
      font-size: 12px;
      letter-spacing:.18em;
      text-transform: uppercase;
    }
    .sfxlaMeta span{
      font-size: 12px;
      color: rgba(0,0,0,0.70);
      max-width: 720px;
    }
    .sfxlaBadges{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .bwBadge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 10px 12px;
      border-radius: 999px;
      border:1px solid rgba(0,0,0,0.12);
      background: rgba(0,0,0,0.03);
      font-weight: 900;
      letter-spacing: .12em;
      text-transform: uppercase;
      font-size: 11px;
    }
    .bwDot{
      width:8px; height:8px; border-radius:999px;
      background: #111;
    }

    /* ===== GALLERY ===== */
    .grid2{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap: 16px;
      align-items:start;
    }
    .panel{
      background: rgba(20,20,20,0.75);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius:18px;
      padding:26px;
      box-shadow: 0 12px 40px rgba(0,0,0,0.35);
      position:relative;
      overflow:hidden;
    }
    .panel::after{
      content:"";
      position:absolute; left:-60px; top:-60px;
      width:160px; height:160px;
      background: radial-gradient(circle, rgba(179,31,36,0.18), transparent 60%);
      opacity:.95;
    }
    .panel > *{ position:relative; z-index:1; }

    h2{
      margin: 12px 0 12px 0;
      text-transform: uppercase;
      letter-spacing: 1px;
      font-size: clamp(26px, 4.3vw, 40px);
      line-height:1.06;
    }
    p{
      margin:0 0 14px 0;
      color: var(--muted);
      line-height:1.75;
      font-size:15.5px;
      max-width: 980px;
    }

    .gallery{
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 12px;
      margin-top: 14px;
    }
    .gItem{
      border:1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.02);
      border-radius: 16px;
      overflow:hidden;
      position:relative;
      aspect-ratio: 4/3;
      cursor:pointer;
      transition: transform .18s ease, border-color .18s ease, filter .18s ease;
    }
    .gItem:hover{
      transform: translateY(-4px);
      border-color: rgba(179,31,36,0.35);
      filter: brightness(1.04);
    }
    .gItem img{
      width:100%; height:100%;
      object-fit: cover;
      display:block;
    }
    .gCap{
      position:absolute; left:10px; bottom:10px;
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(0,0,0,0.45);
      border:1px solid rgba(255,255,255,0.12);
      color: rgba(255,255,255,0.88);
      font-size: 11px;
      font-weight: 900;
      letter-spacing:.12em;
      text-transform: uppercase;
      backdrop-filter: blur(10px);
    }

    /* ===== CAR PICKER ===== */
    .carGrid{
      display:grid;
      grid-template-columns: repeat(6, minmax(0,1fr));
      gap: 12px;
      margin-top: 16px;
    }
    .carBtn{
      border:1px solid rgba(255,255,255,0.10);
      background: linear-gradient(180deg, rgba(20,20,20,0.92), rgba(10,10,10,0.70));
      border-radius: 16px;
      padding: 14px 12px;
      cursor:pointer;
      text-align:left;
      transition: transform .18s ease, border-color .18s ease, box-shadow .18s ease, filter .18s ease;
      box-shadow: 0 14px 44px rgba(0,0,0,0.35);
      position:relative;
      overflow:hidden;
      min-height: 70px;
    }
    .carBtn::after{
      content:"";
      position:absolute; inset:-80px;
      background: radial-gradient(circle at 30% 30%, rgba(179,31,36,0.14), transparent 60%);
      transform: rotate(14deg);
      opacity:.9;
      pointer-events:none;
    }
    .carBtn:hover{
      transform: translateY(-5px);
      border-color: rgba(179,31,36,0.40);
      filter: brightness(1.03);
      box-shadow: 0 18px 62px rgba(0,0,0,0.55);
    }
    .carBtn.active{
      border-color: rgba(179,31,36,0.55);
      box-shadow: 0 18px 70px rgba(0,0,0,0.65);
    }
    .carName{
      position:relative; z-index:1;
      font-weight: 1000;
      letter-spacing:.12em;
      text-transform: uppercase;
      font-size: 12px;
      color:#fff;
    }
    .carSub{
      position:relative; z-index:1;
      margin-top: 6px;
      color: rgba(255,255,255,0.70);
      font-size: 12px;
      line-height:1.35;
    }

    /* ===== FILTER BAR ===== */
    .filterBar{
      margin-top: 18px;
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }
    .filtersLeft{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    .in, .sel{
      border:1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.25);
      color:#fff;
      border-radius: 14px;
      padding: 12px 12px;
      outline:none;
      min-width: 180px;
      font-weight: 800;
      letter-spacing:.04em;
      box-shadow: 0 14px 40px rgba(0,0,0,0.35);
    }
    .in::placeholder{ color: rgba(255,255,255,0.50); }
    .miniStat{
      color: rgba(255,255,255,0.70);
      font-size: 12px;
      letter-spacing:.10em;
      text-transform: uppercase;
      font-weight: 900;
    }

    /* ===== PRODUCT GRID ===== */
    .productGrid{
      display:grid;
      grid-template-columns: repeat(4, minmax(0,1fr));
      gap: 14px;
      margin-top: 16px;
    }
    .pCard{
      border:1px solid rgba(255,255,255,0.10);
      background: linear-gradient(180deg, rgba(20,20,20,0.92), rgba(10,10,10,0.72));
      border-radius: 18px;
      overflow:hidden;
      box-shadow: 0 14px 44px rgba(0,0,0,0.42);
      transition: transform .18s ease, border-color .18s ease, box-shadow .18s ease, filter .18s ease;
      cursor:pointer;
      position:relative;
      display:flex;
      flex-direction:column;
      min-height: 310px;
    }
    .pCard:hover{
      transform: translateY(-6px);
      border-color: rgba(179,31,36,0.45);
      box-shadow: 0 18px 62px rgba(0,0,0,0.62);
      filter: brightness(1.03);
    }
    .pMedia{
      position:relative;
      height: 170px;
      background: rgba(255,255,255,0.03);
      overflow:hidden;
    }
    .pMedia img{
      width:100%; height:100%;
      object-fit: cover;
      display:block;
      transform: scale(1.02);
    }
    .pTopRow{
      position:absolute; left:10px; right:10px; top:10px;
      display:flex; justify-content:space-between; gap:10px;
      z-index:2;
    }
    .tag{
      display:inline-flex; align-items:center; gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      font-size: 10px;
      letter-spacing: .12em;
      text-transform: uppercase;
      font-weight: 1000;
      color:#fff;
      border:1px solid rgba(255,255,255,0.14);
      background: rgba(0,0,0,0.45);
      backdrop-filter: blur(10px);
    }
    .tag .tDot{ width:8px; height:8px; border-radius:999px; background: var(--red); box-shadow:0 0 12px rgba(179,31,36,.7); }
    .pBody{
      padding: 14px 14px 16px;
      display:flex;
      flex-direction:column;
      gap: 10px;
      flex:1;
    }
    .pName{
      margin:0;
      font-size: 13px;
      font-weight: 1000;
      letter-spacing: .14em;
      text-transform: uppercase;
      color:#fff;
    }
    .pDesc{
      margin:0;
      font-size: 13.5px;
      line-height:1.6;
      color: rgba(255,255,255,0.72);
      flex:1;
    }
    .pBottom{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 12px;
      margin-top: 4px;
    }
    .price{
      font-weight: 1000;
      letter-spacing:.10em;
      text-transform: uppercase;
      font-size: 12px;
      color: rgba(255,255,255,0.90);
    }
    .openHint{
      display:inline-flex;
      align-items:center;
      gap:10px;
      font-size: 11px;
      letter-spacing:.14em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.70);
    }
    .openHint .arr{
      width: 34px; height: 34px; border-radius: 14px;
      display:grid; place-items:center;
      border:1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.25);
      transition: transform .18s ease, border-color .18s ease;
    }
    .pCard:hover .openHint .arr{
      transform: translateX(3px);
      border-color: rgba(179,31,36,0.35);
    }

    /* ===== MODALS ===== */
    .modal{
      position:fixed; inset:0; z-index:999;
      display:none;
      align-items:center;
      justify-content:center;
      padding: 18px;
      background: rgba(0,0,0,0.62);
      backdrop-filter: blur(10px);
    }
    .modal.show{ display:flex; }
    .modalCard{
      width: min(980px, 100%);
      border-radius: 18px;
      border:1px solid rgba(255,255,255,0.10);
      background: rgba(12,12,12,0.92);
      box-shadow: 0 22px 80px rgba(0,0,0,0.70);
      overflow:hidden;
      position:relative;
    }
    .modalHead{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 14px 14px;
      border-bottom:1px solid rgba(255,255,255,0.08);
      background: rgba(0,0,0,0.35);
    }
    .modalHead b{
      letter-spacing:.14em;
      text-transform: uppercase;
      font-size: 12px;
    }
    .xBtn{
      border:none;
      cursor:pointer;
      width: 42px; height: 42px;
      border-radius: 14px;
      background: rgba(255,255,255,0.06);
      border:1px solid rgba(255,255,255,0.12);
      color:#fff;
      font-size: 18px;
      font-weight: 900;
      transition: transform .18s ease, border-color .18s ease, background .18s ease;
    }
    .xBtn:hover{
      transform: translateY(-2px);
      border-color: rgba(179,31,36,0.35);
      background: rgba(179,31,36,0.16);
    }
    .modalBody{
      padding: 14px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }
    .mImg{
      border-radius: 16px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.02);
      min-height: 320px;
    }
    .mImg img{ width:100%; height:100%; object-fit: cover; display:block; }
    .mInfo{
      border-radius: 16px;
      border:1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.03);
      padding: 14px;
      display:flex;
      flex-direction:column;
      gap: 10px;
    }
    .mTitle{
      margin:0;
      font-weight:1000;
      letter-spacing:.12em;
      text-transform: uppercase;
      font-size: 14px;
      color:#fff;
      line-height:1.2;
    }
    .mMeta{
      color: rgba(255,255,255,0.75);
      font-size: 13.5px;
      line-height:1.6;
    }
    .mRow{
      display:flex; gap:10px; flex-wrap:wrap;
      align-items:center;
      margin-top: 4px;
    }
    .mLabel{
      font-size: 11px;
      letter-spacing:.14em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.70);
      font-weight: 1000;
    }
    .mSelect{
      flex:1;
      min-width: 220px;
      border:1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.25);
      color:#fff;
      border-radius: 14px;
      padding: 12px 12px;
      outline:none;
      font-weight: 900;
    }
    .mPrice{
      margin-top: 2px;
      font-weight: 1000;
      letter-spacing:.12em;
      text-transform: uppercase;
      font-size: 12px;
      color: rgba(255,255,255,0.92);
    }
    .mActions{
      margin-top:auto;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }

    /* ===== ORDER FORM MODAL ===== */
    .formGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 6px;
    }
    .formGrid .full{ grid-column: 1 / -1; }
    label{
      display:block;
      font-size: 11px;
      letter-spacing:.14em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.68);
      font-weight: 1000;
      margin-bottom: 6px;
    }
    input, textarea{
      width:100%;
      border:1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.25);
      color:#fff;
      border-radius: 14px;
      padding: 12px 12px;
      outline:none;
      font-weight: 800;
      letter-spacing:.02em;
      box-shadow: 0 14px 40px rgba(0,0,0,0.35);
    }
    textarea{ min-height: 120px; resize: vertical; }
    .note{
      color: rgba(255,255,255,0.65);
      font-size: 12px;
      line-height:1.6;
      margin-top: 8px;
    }

    /* ===== FOOTER ===== */
    footer{
      border-top: 1px solid rgba(255,255,255,0.06);
      background: rgba(10,10,10,0.65);
      backdrop-filter: blur(10px);
      padding: 34px 0;
    }
    .footGrid{
      display:grid;
      grid-template-columns: 1.2fr .8fr .8fr;
      gap: 16px;
      align-items:start;
    }
    .footTitle{
      font-weight:1000;
      letter-spacing:.14em;
      text-transform: uppercase;
      font-size: 12px;
      color:#fff;
      margin:0 0 10px 0;
    }
    .footText{
      margin:0;
      color: rgba(255,255,255,0.72);
      line-height:1.7;
      font-size: 13.5px;
    }
    .footLinks{
      display:flex;
      flex-direction:column;
      gap:8px;
    }
    .footLinks a{
      text-decoration:none;
      color: rgba(255,255,255,0.72);
      font-weight: 900;
      letter-spacing:.08em;
      text-transform: uppercase;
      font-size: 11px;
      transition: color .18s ease;
    }
    .footLinks a:hover{ color:#fff; }
    .copy{
      margin-top: 18px;
      color: rgba(255,255,255,0.45);
      font-size: 12px;
      letter-spacing:.08em;
      text-transform: uppercase;
      font-weight: 900;
    }

    /* ===== RESPONSIVE ===== */
    @media (max-width: 1200px){
      .productGrid{ grid-template-columns: repeat(3, minmax(0,1fr)); }
      .carGrid{ grid-template-columns: repeat(4, minmax(0,1fr)); }
    }
    @media (max-width: 980px){
      .wrap{ padding:0 18px; }
      section{ padding: 76px 0; }
      .nav{ padding: 14px 18px; }
      .heroInner{ padding: 0 18px 30px; }
      .grid2{ grid-template-columns: 1fr; }
      .gallery{ grid-template-columns: repeat(2, minmax(0,1fr)); }
      .productGrid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
      .modalBody{ grid-template-columns: 1fr; }
      .mImg{ min-height: 240px; }
      .footGrid{ grid-template-columns: 1fr; }
      .brandStripInner{ padding: 22px 18px; }
    }
    @media (max-width: 560px){
      section{ padding: 56px 0; }
      .gallery{ grid-template-columns: 1fr; }
      .productGrid{ grid-template-columns: 1fr; }
      .carGrid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
      .formGrid{ grid-template-columns: 1fr; }
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      *{ animation: none !important; transition: none !important; }
    }
  </style>
</head>

<body>
  <div class="bg"></div>
  <div class="noise"></div>

  <!-- TOPBAR -->
  <div class="topbar" id="top">
    <div class="nav">
      <a href="index.html" class="brand-mini" aria-label="RACEM">
        <img src="assets/rmgroup.png" alt="RACEM logo">
        <div class="brand-title">
          <span>RACEM</span>
          <b>Streetfighter LA</b>
        </div>
      </a>

      <nav class="nav-links" aria-label="Menu">
        <a href="index.html">Domov</a>
        <a href="#auta">Autá</a>
        <a href="#ponuka">Ponuka</a>
        <a href="#kontakt">Kontakt</a>
      </nav>

      <a class="btn secondary" href="#ponuka">Vybrať diely →</a>
    </div>
  </div>

  <!-- HERO -->
  <section class="hero" aria-label="Streetfighter LA hero">
    <div class="heroMedia">
      <div class="heroBg"></div>

      <div class="heroInner">
        <div class="heroLeft">
          <div class="pill"><span class="dot"></span>autorizovaný predaj • fitment check • objednávka cez RACEM</div>
          <div class="heroTitle">Streetfighter LA</div>
          <p class="heroText">
            Brutálne široké kity, ostré línie a čistý streetfighter podpis. Vyber si model auta, filtruj diely,
            zvoľ materiál (ak je dostupný) a pošli objednávku – odpovieme ti s termínom a dopravou.
          </p>
        </div>

        <div class="heroActions">
          <a class="btn" href="#auta">Vybrať auto</a>
          <a class="btn secondary" href="#oZnacke">O značke</a>
        </div>
      </div>
    </div>
  </section>

  <!-- SFXLA BLACK/WHITE STRIP -->
  <div class="brandStrip" aria-label="SFXLA brand strip">
    <div class="brandStripInner">
      <div class="sfxlaLogoRow">
        <!-- sem daj ich čierne logo (PNG/SVG) -->
        <img src="assets/sfxla_black.png" alt="Streetfighter LA logo (black)">
        <div class="sfxlaMeta">
          <b>Black on White — signature</b>
          <span>Origin: USA • Widebody / aero • Vyber model a diely nižšie.</span>
        </div>
      </div>

      <div class="sfxlaBadges">
        <div class="bwBadge"><span class="bwDot"></span>USA</div>
        <div class="bwBadge"><span class="bwDot"></span>Widebody</div>
        <div class="bwBadge"><span class="bwDot"></span>Aero</div>
      </div>
    </div>
  </div>

  <!-- ABOUT + GALLERY -->
  <section id="oZnacke">
    <div class="wrap">
      <div class="grid2">
        <div class="panel">
          <div class="pill"><span class="dot"></span>o značke</div>
          <h2>Čo je Streetfighter LA?</h2>
          <p>
            Streetfighter LA je americká značka známa agresívnym dizajnom a výraznými rozšíreniami.
            Väčšina kitov nie je 100% “plug & play” – fitment si vyžaduje rozumnú montáž, doladenie a často aj úpravy.
            Preto ti pred objednávkou overíme kompatibilitu (model/rok/facelift/verzia nárazníkov).
          </p>
          <p style="color:rgba(255,255,255,0.72);">
            <b>RACEM</b> ti dá “realitu bez omáčky”: čo sedí, čo treba upraviť, aký materiál dáva zmysel a aký bude termín dodania.
          </p>

          <div class="pill" style="margin-top:14px;"><span class="dot"></span>rýchly postup</div>
          <p style="margin-bottom:0;">
            1) Vyber auto → 2) Filter → 3) Klik na diel → 4) vyber materiál/variant → 5) poslať objednávku (formulár)
          </p>
        </div>

        <div class="panel">
          <div class="pill"><span class="dot"></span>galéria</div>
          <h2>Brand shots</h2>
          <p class="muted2" style="color:rgba(255,255,255,0.72);">
            Sem si len nahádžeš fotky do <b>assets/sfxla-gallery/</b> a prepíšeš cesty nižšie.
          </p>

          <div class="gallery" id="gallery">
            <div class="gItem" data-full="assets/sfxla-gallery/1.jpg" title="Open">
              <img src="assets/sfxla-gallery/1.jpg" alt="SFXLA gallery 1">
              <div class="gCap">SFXLA</div>
            </div>
            <div class="gItem" data-full="assets/sfxla-gallery/2.jpg" title="Open">
              <img src="assets/sfxla-gallery/2.jpg" alt="SFXLA gallery 2">
              <div class="gCap">Wide</div>
            </div>
            <div class="gItem" data-full="assets/sfxla-gallery/3.jpg" title="Open">
              <img src="assets/sfxla-gallery/3.jpg" alt="SFXLA gallery 3">
              <div class="gCap">Aero</div>
            </div>
          </div>

          <p class="note" style="margin-bottom:0;">
            Tip: ak chceš mať gallery zložky ako na screenshote (e36/e46/...), sprav to – len to potom zobrazíme podľa modelu.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- CARS -->
  <section id="auta">
    <div class="wrap">
      <div class="panel">
        <div class="pill"><span class="dot"></span>vyber auto</div>
        <h2>Kompatibilné modely</h2>
        <p>Vyber model. Pod tým sa ti zobrazia diely len pre dané auto (a zároveň stále fungujú filtre).</p>

        <div class="carGrid" id="carGrid"></div>

        <div class="filterBar" style="margin-top:18px;">
          <div class="filtersLeft">
            <input class="in" id="q" type="text" placeholder="Hľadať (napr. lip, spoiler, widebody)..." />
            <select class="sel" id="cat">
              <option value="">Kategória: všetko</option>
            </select>
            <select class="sel" id="mat">
              <option value="">Materiál: všetko</option>
            </select>
            <select class="sel" id="type">
              <option value="">Variant: všetko</option>
              <option value="Full Kit">Full kit</option>
              <option value="Single Part">Single part</option>
            </select>
          </div>

          <div class="miniStat" id="stat">0 dielov</div>
        </div>
      </div>
    </div>
  </section>

  <!-- PRODUCTS -->
  <section id="ponuka">
    <div class="wrap">
      <div class="panel">
        <div class="pill"><span class="dot"></span>ponuka</div>
        <h2 id="productsTitle">Diely pre: všetky autá</h2>
        <p>
          Klikni na diel → otvorí sa detail, vyberieš variant (materiál/typ) a odošleš objednávku.
          Keď je niečo “locked”, len to znamená že ešte dopĺňaš dáta – vizuál je pripravený.
        </p>

        <div class="productGrid" id="productGrid"></div>
      </div>
    </div>
  </section>

  <!-- CONTACT ANCHOR -->
  <section id="kontakt">
    <div class="wrap">
      <div class="panel">
        <div class="pill"><span class="dot"></span>kontakt</div>
        <h2>Objednávka / dopyt</h2>
        <p>
          Ak chceš poslať dopyt bez výberu konkrétneho dielu, klikni na tlačidlo a vyplň formulár.
        </p>
        <button class="btn" id="openGeneralForm" type="button">Otvoriť formulár</button>
        <p class="note" style="margin-top:12px; margin-bottom:0;">
          Formulár ide priamo cez Formspree a príde ti to na endpoint: <b>https://formspree.io/f/xnjjqkpd</b>
        </p>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="wrap">
      <div class="footGrid">
        <div>
          <div class="footTitle">RACEM</div>
          <p class="footText">
            Autorizovaný predaj bodykitov a aero. Overenie kompatibility (fitment), reálne termíny dodania,
            a férová komunikácia bez výmyslov.
          </p>
          <div class="copy">© <span id="year"></span> RACEM • Beat them all</div>
        </div>

        <div>
          <div class="footTitle">Odkazy</div>
          <div class="footLinks">
            <a href="index.html">Domov</a>
            <a href="vop.html">VOP</a>
            <a href="#auta">Autá</a>
            <a href="#ponuka">Ponuka</a>
          </div>
        </div>

        <div>
          <div class="footTitle">Kontakt</div>
          <p class="footText" style="margin-bottom:10px;">
            Máš otázku na kompatibilitu, materiál alebo montáž? Napíš nám.
          </p>
          <div class="footLinks">
            <a href="#kontakt" id="footerOpenForm">Odoslať dopyt</a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- PRODUCT DETAIL MODAL -->
  <div class="modal" id="productModal" aria-hidden="true">
    <div class="modalCard" role="dialog" aria-modal="true" aria-label="Product details">
      <div class="modalHead">
        <b>Detail dielu</b>
        <button class="xBtn" id="closeProductModal" type="button" aria-label="Close">×</button>
      </div>

      <div class="modalBody">
        <div class="mImg">
          <img id="mImg" src="" alt="Product image">
        </div>

        <div class="mInfo">
          <h3 class="mTitle" id="mTitle">—</h3>
          <div class="mMeta" id="mMeta">—</div>

          <div class="mRow">
            <div style="flex:1; min-width:260px;">
              <div class="mLabel">Variant / Materiál</div>
              <select class="mSelect" id="mVariant"></select>
              <div class="mPrice" id="mPrice">—</div>
            </div>
          </div>

          <div class="mActions">
            <a class="btn secondary" id="mLink" href="#" target="_blank" rel="noreferrer">Origin link</a>
            <button class="btn" id="mOrder" type="button">Poslať objednávku</button>
          </div>

          <div class="note" id="mNote">
            Poznámka bude predvyplnená (produkt + auto + variant).
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- GALLERY MODAL (simple) -->
  <div class="modal" id="galleryModal" aria-hidden="true">
    <div class="modalCard" role="dialog" aria-modal="true" aria-label="Gallery image">
      <div class="modalHead">
        <b>Galéria</b>
        <button class="xBtn" id="closeGalleryModal" type="button" aria-label="Close">×</button>
      </div>
      <div style="padding:14px;">
        <div class="mImg" style="min-height:420px;">
          <img id="gFull" src="" alt="Gallery image">
        </div>
      </div>
    </div>
  </div>

  <!-- ORDER FORM MODAL -->
  <div class="modal" id="orderModal" aria-hidden="true">
    <div class="modalCard" role="dialog" aria-modal="true" aria-label="Order form">
      <div class="modalHead">
        <b>Objednávka / dopyt</b>
        <button class="xBtn" id="closeOrderModal" type="button" aria-label="Close">×</button>
      </div>

      <div style="padding:14px;">
        <p style="margin:0 0 10px; color:rgba(255,255,255,0.78); line-height:1.6;">
          Vyplň údaje. <b>Poznámka</b> je už predvyplnená podľa dielu/variantu, aby si nemusel nič ručne loviť.
        </p>

        <form id="orderForm" action="https://formspree.io/f/xnjjqkpd" method="POST">
          <div class="formGrid">
            <div>
              <label for="name">Meno a priezvisko</label>
              <input id="name" name="name" type="text" required placeholder="Např. Lukáš Tonkovič">
            </div>
            <div>
              <label for="phone">Telefón</label>
              <input id="phone" name="phone" type="tel" required placeholder="+421 ...">
            </div>
            <div>
              <label for="email">E-mail</label>
              <input id="email" name="email" type="email" required placeholder="racem@...">
            </div>
            <div>
              <label for="car">Auto (voliteľné)</label>
              <input id="car" name="car" type="text" placeholder="BMW E46, rok, facelift...">
            </div>
            <div class="full">
              <label for="message">Poznámka (predvyplnené)</label>
              <textarea id="message" name="message" required></textarea>
              <div class="note">
                Tip: dopíš rok, facelift a verziu nárazníkov. Fitment overíme pred potvrdením.
              </div>
            </div>
          </div>

          <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end;">
            <button class="btn secondary" id="cancelSend" type="button">Zavrieť</button>
            <button class="btn" type="submit">Odoslať</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script>
    // ====== DEMO DATA (zatiaľ v kóde) ======
    // Keď budeš mať JSON, nahradíme to fetchom a všetko ostane rovnaké.
    const DATA = {
      brand: {
        name: "Streetfighter LA",
        logoBlack: "assets/sfxla_black.png"
      },
      cars: [
        { id:"e36", label:"BMW E36", sub:"Widebody / aero" },
        { id:"e46", label:"BMW E46", sub:"Widebody kit" },
        { id:"e90", label:"BMW E90", sub:"Widebody kit" },
        { id:"e92", label:"BMW E92", sub:"Widebody kit" },
        { id:"evox", label:"EVO X", sub:"Bodykit / aero" },
        { id:"F8X", label:"BMW F8X", sub:"M2/M3/M4 (F)" },
        { id:"F30", label:"BMW F30", sub:"Aero / bodykit" },
        { id:"g5cam", label:"Camaro Gen 5", sub:"Bodykit" },
        { id:"g6cam", label:"Camaro Gen 6", sub:"Bodykit" },
        { id:"g80-02-83", label:"BMW G8x / G02 / G83", sub:"New gen kits" },
        { id:"pgt4", label:"Porsche GT4", sub:"Aero" }
      ],
      products: [
        {
          id:"p1",
          carId:"e36",
          category:"Wide Body Kit",
          title:"BMW E36 Wide Body Kit",
          short:"Kompletný widebody kit",
          image:"assets/products/e36-widebody.jpg",
          url:"https://streetfighterla.com/",
          variants:[
            { name:"FRP / Plastic", material:"FRP", type:"Full Kit", priceUSD:1895 },
            { name:"Carbon", material:"Carbon", type:"Full Kit", priceUSD:2295 }
          ]
        },
        {
          id:"p2",
          carId:"e36",
          category:"Rear Spoiler",
          title:"BMW E36 Rear Spoiler",
          short:"Zadný spoiler",
          image:"assets/products/e36-spoiler.jpg",
          url:"https://streetfighterla.com/",
          variants:[
            { name:"FRP / Plastic", material:"FRP", type:"Single Part", priceUSD:325 }
          ]
        },
        {
          id:"p3",
          carId:"e36",
          category:"Front Lip",
          title:"BMW E36 Front Lip",
          short:"Predná lipa",
          image:"assets/products/e36-lip.jpg",
          url:"https://streetfighterla.com/",
          variants:[
            { name:"FRP / Plastic", material:"FRP", type:"Single Part", priceUSD:90 }
          ]
        },
        {
          id:"p4",
          carId:"e46",
          category:"Wide Body Kit",
          title:"BMW E46 Wide Body Kit",
          short:"Široký kit pre E46",
          image:"assets/products/e46-widebody.jpg",
          url:"https://streetfighterla.com/",
          variants:[
            { name:"FRP / Plastic", material:"FRP", type:"Full Kit", priceUSD:2650 }
          ]
        },
        {
          id:"p5",
          carId:"e90",
          category:"Wide Body Kit",
          title:"BMW E90 Wide Body Kit",
          short:"Široký kit pre E90",
          image:"assets/products/e90-widebody.jpg",
          url:"https://streetfighterla.com/",
          variants:[
            { name:"FRP / Plastic", material:"FRP", type:"Full Kit", priceUSD:4445 }
          ]
        },
        {
          id:"p6",
          carId:"e92",
          category:"Wide Body Kit",
          title:"BMW E92 Wide Body Kit",
          short:"Viac variantov podľa setupu",
          image:"assets/products/e92-widebody.jpg",
          url:"https://streetfighterla.com/",
          variants:[
            { name:"Variant A (FRP)", material:"FRP", type:"Full Kit", priceUSD:1630 },
            { name:"Variant B (FRP)", material:"FRP", type:"Full Kit", priceUSD:2495 },
            { name:"Carbon", material:"Carbon", type:"Full Kit", priceUSD:4120 }
          ]
        }
      ]
    };

    // ====== STATE ======
    let activeCarId = "";  // "" = all
    let activeProduct = null;

    // ====== HELPERS ======
    const $ = (s, el=document) => el.querySelector(s);
    const $$ = (s, el=document) => Array.from(el.querySelectorAll(s));

    function fmtUSD(n){
      if (typeof n !== "number") return "—";
      return "$" + n.toLocaleString("en-US");
    }
    function minPrice(prod){
      const prices = (prod.variants || []).map(v => v.priceUSD).filter(x => typeof x === "number");
      if (!prices.length) return "price on request";
      const min = Math.min(...prices);
      const max = Math.max(...prices);
      return min === max ? fmtUSD(min) : `${fmtUSD(min)} – ${fmtUSD(max)}`;
    }

    // ====== BUILD CARS ======
    function buildCars(){
      const carGrid = $("#carGrid");
      carGrid.innerHTML = "";

      const allBtn = document.createElement("button");
      allBtn.className = "carBtn" + (activeCarId === "" ? " active" : "");
      allBtn.type = "button";
      allBtn.innerHTML = `<div class="carName">Všetky</div><div class="carSub">Zobraziť všetky diely</div>`;
      allBtn.addEventListener("click", () => {
        activeCarId = "";
        updateCarActive();
        renderAll();
        document.getElementById("ponuka").scrollIntoView({behavior:"smooth"});
      });
      carGrid.appendChild(allBtn);

      DATA.cars.forEach(c => {
        const b = document.createElement("button");
        b.type = "button";
        b.className = "carBtn" + (activeCarId === c.id ? " active" : "");
        b.dataset.car = c.id;
        b.innerHTML = `<div class="carName">${c.label}</div><div class="carSub">${c.sub}</div>`;
        b.addEventListener("click", () => {
          activeCarId = c.id;
          updateCarActive();
          renderAll();
          document.getElementById("ponuka").scrollIntoView({behavior:"smooth"});
        });
        carGrid.appendChild(b);
      });
    }

    function updateCarActive(){
      $$(".carBtn").forEach(btn => {
        const car = btn.dataset.car || "";
        btn.classList.toggle("active", car === activeCarId);
        if (!btn.dataset.car) btn.classList.toggle("active", activeCarId === "");
      });
    }

    // ====== FILTER OPTIONS ======
    function buildFilterOptions(){
      const cat = $("#cat");
      const mat = $("#mat");
      const cats = new Set();
      const mats = new Set();

      DATA.products.forEach(p => {
        if (p.category) cats.add(p.category);
        (p.variants || []).forEach(v => { if (v.material) mats.add(v.material); });
      });

      // category
      cat.innerHTML = `<option value="">Kategória: všetko</option>` + Array.from(cats).sort().map(x => `<option value="${escapeHtml(x)}">${escapeHtml(x)}</option>`).join("");

      // material
      mat.innerHTML = `<option value="">Materiál: všetko</option>` + Array.from(mats).sort().map(x => `<option value="${escapeHtml(x)}">${escapeHtml(x)}</option>`).join("");
    }

    function escapeHtml(str){
      return String(str)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    // ====== FILTERING ======
    function getFilteredProducts(){
      const q = ($("#q").value || "").trim().toLowerCase();
      const cat = $("#cat").value || "";
      const mat = $("#mat").value || "";
      const type = $("#type").value || "";

      return DATA.products.filter(p => {
        if (activeCarId && p.carId !== activeCarId) return false;

        if (cat && p.category !== cat) return false;

        if (q){
          const blob = `${p.title} ${p.short} ${p.category}`.toLowerCase();
          if (!blob.includes(q)) return false;
        }

        // variant filters (material / type)
        if (mat || type){
          const ok = (p.variants || []).some(v => {
            if (mat && v.material !== mat) return false;
            if (type && v.type !== type) return false;
            return true;
          });
          if (!ok) return false;
        }

        return true;
      });
    }

    // ====== RENDER PRODUCTS ======
    function renderProducts(){
      const grid = $("#productGrid");
      const title = $("#productsTitle");
      const stat = $("#stat");

      const carLabel = activeCarId ? (DATA.cars.find(c=>c.id===activeCarId)?.label || activeCarId) : "všetky autá";
      title.textContent = `Diely pre: ${carLabel}`;

      const items = getFilteredProducts();
      stat.textContent = `${items.length} dielov`;

      grid.innerHTML = "";
      if (!items.length){
        grid.innerHTML = `<div class="panel" style="grid-column:1/-1; padding:18px;">
          <div class="pill"><span class="dot"></span>nič sme nenašli</div>
          <h2 style="margin:12px 0 8px; font-size:28px;">Skús zmeniť filtre</h2>
          <p style="margin:0;">Zruš materiál / kategóriu alebo vyber “Všetky” autá.</p>
        </div>`;
        return;
      }

      items.forEach(p => {
        const car = DATA.cars.find(c=>c.id===p.carId)?.label || p.carId;
        const card = document.createElement("div");
        card.className = "pCard";
        card.tabIndex = 0;
        card.setAttribute("role","button");
        card.setAttribute("aria-label", "Open " + p.title);

        card.innerHTML = `
          <div class="pMedia">
            <img src="${escapeHtml(p.image || "assets/placeholder.jpg")}" alt="${escapeHtml(p.title)}">
            <div class="pTopRow">
              <div class="tag"><span class="tDot"></span>${escapeHtml(car)}</div>
              <div class="tag" style="border-color:rgba(255,255,255,0.18);">${escapeHtml(p.category || "Part")}</div>
            </div>
          </div>

          <div class="pBody">
            <div class="pName">${escapeHtml(p.title)}</div>
            <p class="pDesc">${escapeHtml(p.short || "")}</p>

            <div class="pBottom">
              <div class="price">${escapeHtml(minPrice(p))}</div>
              <div class="openHint"><span>Detail</span> <span class="arr">→</span></div>
            </div>
          </div>
        `;

        card.addEventListener("click", () => openProduct(p));
        card.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " "){
            e.preventDefault();
            openProduct(p);
          }
        });

        grid.appendChild(card);
      });
    }

    function renderAll(){
      renderProducts();
    }

    // ====== PRODUCT MODAL ======
    const productModal = $("#productModal");
    const closeProductModal = $("#closeProductModal");
    const mImg = $("#mImg");
    const mTitle = $("#mTitle");
    const mMeta = $("#mMeta");
    const mVariant = $("#mVariant");
    const mPrice = $("#mPrice");
    const mLink = $("#mLink");
    const mOrder = $("#mOrder");
    const mNote = $("#mNote");

    function openProduct(p){
      activeProduct = p;

      mImg.src = p.image || "assets/placeholder.jpg";
      mTitle.textContent = p.title;
      const car = DATA.cars.find(c=>c.id===p.carId)?.label || p.carId;

      mMeta.innerHTML = `
        <div><b>${escapeHtml(car)}</b> • ${escapeHtml(p.category || "Part")}</div>
        <div style="margin-top:6px; color:rgba(255,255,255,0.78);">${escapeHtml(p.short || "")}</div>
      `;

      // build variants
      mVariant.innerHTML = "";
      (p.variants || []).forEach((v, i) => {
        const opt = document.createElement("option");
        opt.value = String(i);
        const label = `${v.name || "Variant"} • ${v.material || "Material"} • ${v.type || ""}`.trim();
        opt.textContent = label;
        mVariant.appendChild(opt);
      });

      // link
      mLink.href = p.url || "#";

      // set default
      mVariant.value = "0";
      updateVariantPrice();

      productModal.classList.add("show");
      productModal.setAttribute("aria-hidden","false");
    }

    function updateVariantPrice(){
      if (!activeProduct) return;
      const idx = Number(mVariant.value || 0);
      const v = (activeProduct.variants || [])[idx];
      if (!v){
        mPrice.textContent = "Price on request";
        return;
      }
      mPrice.textContent = `Cena: ${fmtUSD(v.priceUSD)} • ${v.material || ""} • ${v.type || ""}`.replaceAll("  ", " ").trim();

      const car = DATA.cars.find(c=>c.id===activeProduct.carId)?.label || activeProduct.carId;
      const note = `OBJEDNÁVKA – Streetfighter LA
Auto: ${car}
Diel: ${activeProduct.title}
Variant: ${v.name || "—"} | Materiál: ${v.material || "—"} | Typ: ${v.type || "—"}
Link: ${activeProduct.url || "—"}

Poznámka (dopíš rok/facelift/verziu):`;
      mNote.textContent = "Predvyplnená poznámka pôjde do formulára po kliknutí na objednávku.";
      $("#message").value = note;
      $("#car").value = car;
    }

    mVariant.addEventListener("change", updateVariantPrice);

    closeProductModal.addEventListener("click", () => closeModal(productModal));
    productModal.addEventListener("click", (e) => { if (e.target === productModal) closeModal(productModal); });

    // ====== GALLERY MODAL ======
    const galleryModal = $("#galleryModal");
    const closeGalleryModal = $("#closeGalleryModal");
    const gFull = $("#gFull");

    $("#gallery").addEventListener("click", (e) => {
      const item = e.target.closest(".gItem");
      if (!item) return;
      const full = item.getAttribute("data-full") || "";
      if (!full) return;
      gFull.src = full;
      galleryModal.classList.add("show");
      galleryModal.setAttribute("aria-hidden","false");
    });

    closeGalleryModal.addEventListener("click", () => closeModal(galleryModal));
    galleryModal.addEventListener("click", (e) => { if (e.target === galleryModal) closeModal(galleryModal); });

    // ====== ORDER MODAL ======
    const orderModal = $("#orderModal");
    const closeOrderModal = $("#closeOrderModal");
    const cancelSend = $("#cancelSend");

    function openOrderModal(){
      closeModal(productModal);
      orderModal.classList.add("show");
      orderModal.setAttribute("aria-hidden","false");
      setTimeout(()=> $("#name").focus(), 50);
    }

    mOrder.addEventListener("click", openOrderModal);
    closeOrderModal.addEventListener("click", () => closeModal(orderModal));
    cancelSend.addEventListener("click", () => closeModal(orderModal));
    orderModal.addEventListener("click", (e) => { if (e.target === orderModal) closeModal(orderModal); });

    // General form openers
    $("#openGeneralForm").addEventListener("click", () => {
      $("#message").value = `DOPYT – Streetfighter LA

Auto: 
Diel: 
Variant / Materiál: 

Poznámka (dopíš rok/facelift/verziu):`;
      $("#car").value = "";
      openOrderModal();
    });
    $("#footerOpenForm").addEventListener("click", (e) => { e.preventDefault(); $("#openGeneralForm").click(); });

    // ====== FILTER EVENTS ======
    ["q","cat","mat","type"].forEach(id => {
      $("#" + id).addEventListener("input", renderAll);
      $("#" + id).addEventListener("change", renderAll);
    });

    // ====== UTIL ======
    function closeModal(modal){
      modal.classList.remove("show");
      modal.setAttribute("aria-hidden","true");
    }
    window.addEventListener("keydown", (e) => {
      if (e.key === "Escape"){
        [orderModal, productModal, galleryModal].forEach(m => m.classList.contains("show") && closeModal(m));
      }
    });

    // ====== INIT ======
    $("#year").textContent = new Date().getFullYear();
    buildFilterOptions();
    buildCars();
    renderAll();
  </script>
</body>
</html>
