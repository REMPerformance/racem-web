<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8">
  <title>RACEM</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    :root{
      --red:#b31f24;
      --bg:#0b0b0b;
      --panel:#141414;
      --text:#ffffff;
      --muted:#cfcfcf;
      --muted2:#9b9b9b;
      --line: rgba(255,255,255,0.08);
      --shadow: 0 20px 60px rgba(0,0,0,0.55);
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family: Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      overflow-x:hidden;
    }

    /* ====== BACKGROUND LAYERS ====== */
    .bg{
      position:fixed;
      inset:0;
      z-index:-5;
      pointer-events:none;
      background:
        radial-gradient(circle at 20% 25%, rgba(179,31,36,0.18), transparent 45%),
        radial-gradient(circle at 85% 75%, rgba(179,31,36,0.10), transparent 45%),
        radial-gradient(circle at 50% 50%, rgba(255,255,255,0.03), transparent 60%);
    }
    .bg::after{
      content:"";
      position:absolute;
      inset:0;
      opacity:.55;
      background:
        repeating-linear-gradient(90deg, rgba(255,255,255,0.04) 0 1px, transparent 1px 44px),
        repeating-linear-gradient(0deg, rgba(255,255,255,0.02) 0 1px, transparent 1px 44px);
      transform: translateZ(0);
      animation: gridMove 24s linear infinite;
    }
    @keyframes gridMove{
      from{ background-position: 0 0, 0 0; }
      to{ background-position: 600px 0, 0 600px; }
    }
    .noise{
      position:fixed;
      inset:-20%;
      z-index:-4;
      pointer-events:none;
      opacity:.08;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.9'/%3E%3C/svg%3E");
      animation: noiseMove 10s steps(10) infinite;
    }
    @keyframes noiseMove{
      0%{transform:translate(0,0)}
      20%{transform:translate(-3%,2%)}
      40%{transform:translate(4%,-2%)}
      60%{transform:translate(-2%,-4%)}
      80%{transform:translate(3%,3%)}
      100%{transform:translate(0,0)}
    }

    /* ====== FULL-WIDTH WRAP ====== */
    .wrap{
      width:100%;
      max-width:none;
      margin:0;
      padding:0 6vw;
    }

    section{padding:110px 0; position:relative}

    .pill{
      display:inline-flex;
      gap:10px;
      align-items:center;
      padding:8px 12px;
      border:1px solid var(--line);
      background: rgba(20,20,20,0.6);
      border-radius:999px;
      color: var(--muted);
      font-size:12px;
      letter-spacing:.6px;
      text-transform:uppercase;
      width: fit-content;
    }
    .dot{
      width:7px;height:7px;border-radius:50%;
      background: var(--red);
      box-shadow: 0 0 18px rgba(179,31,36,.7);
    }

    h1,h2,h3{
      margin:0 0 16px 0;
      text-transform:uppercase;
      letter-spacing:1px;
    }
    h1{font-size:62px; line-height:1.03}
    h2{font-size:40px}
    h3{font-size:18px}
    p{
      margin:0 0 14px 0;
      color: var(--muted);
      line-height:1.65;
      max-width: 980px;
    }
    .red{color:var(--red)}
    .muted2{color:var(--muted2)}

    /* ===== HERO TITLE INLINE LOGO ===== */
    .hero-title{
      display:flex;
      align-items:center;
      gap:12px;
    }
    .hero-logo-inline{
      height:90px;
      width:auto;
      object-fit:contain;
      vertical-align:middle;
    }
    .hero-dash{ color: var(--muted2); }
    .hero-slogan-image{
      height:45px;
      width:auto;
      object-fit:contain;
    }

    /* ====== NAV (CENTERED + BIG LOGO + UNDERGLOW) ====== */
    .topbar{
      position:sticky;
      top:0;
      z-index:100;
      backdrop-filter: blur(12px);
      background: rgba(10,10,10,0.62);
      border-bottom: 1px solid rgba(255,255,255,0.06);
    }
    .nav{ padding:0; }

    .nav-centered{
      max-width: 980px;
      margin: 0 auto;
      padding: 16px 0;
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 64px;
    }

    .brand-mini{
      display:flex;
      align-items:center;
      text-decoration:none;
    }
    .brand-mini img{
      height: 56px;
      width:auto;
      display:block;
      object-fit:contain;
      transition: transform .45s ease, filter .45s ease;
    }
    .brand-mini:hover img{
      transform: scale(1.08) rotate(-2deg);
      filter: drop-shadow(0 10px 24px rgba(179,31,36,.28));
    }

    .nav-links{ display:flex; gap: 44px; }
    .nav-links a{
      position:relative;
      color: rgba(255,255,255,0.76);
      text-decoration:none;
      font-size: 13px;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: .14em;
      white-space: nowrap;
      transition: color .25s ease, text-shadow .25s ease;
      padding: 6px 0;
    }
    .nav-links a:hover{
      color:#fff;
      text-shadow: 0 0 14px rgba(179,31,36,0.25);
    }
    .nav-links a::after{
      content:"";
      position:absolute;
      left:50%;
      bottom:-10px;
      width:0;
      height:2px;
      background: var(--red);
      box-shadow:
        0 0 10px rgba(179,31,36,.75),
        0 0 22px rgba(179,31,36,.35);
      transform: translateX(-50%);
      transition: width .32s ease;
    }
    .nav-links a:hover::after{ width: 125%; }
    .nav-links a:active{ transform: translateY(1px); }

    /* ====== HERO ====== */
    .hero{padding:90px 0 80px}
    .hero-grid{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap:50px;
      align-items:center;
    }
    .headline{
      display:flex;
      flex-direction:column;
      gap:18px;
    }
    .subline{
      font-size:16px;
      color: var(--muted);
      max-width: 980px;
    }
    .ctaRow{display:flex; gap:14px; flex-wrap:wrap; margin-top:8px}
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding:14px 22px;
      border-radius:12px;
      text-decoration:none;
      font-weight:800;
      text-transform:uppercase;
      letter-spacing:.7px;
      font-size:13px;
      transition:.25s;
      user-select:none;
      border:1px solid rgba(255,255,255,0.10);
      cursor:pointer;
    }
    .btnPrimary{
      background: var(--red);
      border-color: rgba(179,31,36,0.65);
      box-shadow: 0 18px 40px rgba(179,31,36,0.18);
      color:#fff;
    }
    .btnPrimary:hover{transform: translateY(-2px); filter: brightness(1.05)}
    .btnGhost{
      background: rgba(20,20,20,0.65);
      color:#fff;
    }
    .btnGhost:hover{transform: translateY(-2px); border-color: rgba(255,255,255,0.22)}
    .heroCard{
      background: linear-gradient(180deg, rgba(20,20,20,0.9), rgba(10,10,10,0.65));
      border: 1px solid rgba(255,255,255,0.08);
      border-radius:18px;
      padding:22px;
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .heroCard::before{
      content:"";
      position:absolute;
      inset:-60px;
      background: radial-gradient(circle at 30% 30%, rgba(179,31,36,0.20), transparent 55%);
      transform: rotate(12deg);
    }
    .heroCard > *{position:relative}
    .statRow{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-top:14px}
    .stat{
      background: rgba(255,255,255,0.03);
      border:1px solid rgba(255,255,255,0.06);
      border-radius:14px;
      padding:14px;
    }
    .stat b{display:block;font-size:18px;color:#fff;margin-bottom:6px}
    .stat span{font-size:12px;color:var(--muted2);text-transform:uppercase;letter-spacing:.7px}

    /* ====== BLOCKS ====== */
    .split{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:40px;
      align-items:start;
    }
    .panel{
      background: rgba(20,20,20,0.75);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius:18px;
      padding:26px;
      box-shadow: 0 12px 40px rgba(0,0,0,0.35);
      position:relative;
      overflow:hidden;
    }
    .panel::after{
      content:"";
      position:absolute;
      left:-60px; top:-60px;
      width:160px; height:160px;
      background: radial-gradient(circle, rgba(179,31,36,0.18), transparent 60%);
    }
    .panel > *{position:relative}

    /* ====== CATEGORY GRID ====== */
    .grid{
      display:grid;
      grid-template-columns: repeat(5, 1fr);
      gap:22px;
      margin-top:34px;
    }
    .card{
      background: linear-gradient(180deg, rgba(20,20,20,0.92), rgba(12,12,12,0.72));
      border:1px solid rgba(255,255,255,0.08);
      border-radius:18px;
      padding:22px;
      position:relative;
      overflow:hidden;
      transform: translateY(0);
      transition: transform .25s, border-color .25s, box-shadow .25s;
      cursor:default;
    }
    .card::before{
      content:"";
      position:absolute;
      inset:-1px;
      background: radial-gradient(circle at 25% 25%, rgba(179,31,36,0.22), transparent 55%);
      opacity:0;
      transition: .25s;
    }
    .card:hover{
      transform: translateY(-8px);
      border-color: rgba(179,31,36,0.35);
      box-shadow: 0 18px 60px rgba(0,0,0,0.55);
    }
    .card:hover::before{opacity:1}
    .card > *{position:relative}
    .tag{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:7px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.03);
      font-size:11px;
      letter-spacing:.7px;
      text-transform:uppercase;
      color: var(--muted2);
      margin-bottom:12px;
      width: fit-content;
    }
    .arrow{
      position:absolute;
      right:18px; bottom:18px;
      width:38px; height:38px;
      border-radius:12px;
      display:flex; align-items:center; justify-content:center;
      border:1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.03);
      opacity:.7;
      transition:.25s;
    }
    .card:hover .arrow{
      opacity:1;
      transform: translateX(2px);
      border-color: rgba(179,31,36,0.35);
    }

    /* ====== CATEGORY CLICK + DROPDOWN FORM ====== */
    .card.category-card{ cursor: pointer; user-select:none; }
    .card.category-card:focus{outline:none}

    .card.category-card.is-active{
      border-color: rgba(179,31,36,0.55);
      box-shadow:
        0 18px 60px rgba(0,0,0,0.55),
        0 0 0 1px rgba(179,31,36,0.15) inset;
      animation: cardHighlight .35s ease both;
    }
    @keyframes cardHighlight{
      from{ transform: translateY(-2px); filter: brightness(1); }
      to{ transform: translateY(-8px); filter: brightness(1.05); }
    }

    .card-drop{
      margin-top: 14px;
      border-top: 1px solid rgba(255,255,255,0.08);
      padding-top: 14px;
      max-height: 0;
      opacity: 0;
      overflow: hidden;
      transform: translateY(-6px);
      transition: max-height .45s ease, opacity .35s ease, transform .35s ease;
    }
    .card.category-card.is-active .card-drop{
      max-height: 620px;
      opacity: 1;
      transform: translateY(0);
    }

    .card-drop{ overflow: hidden; }
    .card.category-card.is-active .card-drop{
      overflow: auto;
      padding-right: 6px;
    }

    .card.category-card.is-active .card-drop::-webkit-scrollbar{ width: 10px; }
    .card.category-card.is-active .card-drop::-webkit-scrollbar-thumb{
      background: rgba(255,255,255,0.14);
      border-radius: 999px;
      border: 2px solid rgba(0,0,0,0.35);
    }
    .card.category-card.is-active .card-drop::-webkit-scrollbar-thumb:hover{
      background: rgba(179,31,36,0.35);
    }

    .req-form{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    .req-form .full{ grid-column: 1 / -1; }

    .req-form label{
      display:block;
      font-size: 11px;
      letter-spacing: .12em;
      text-transform: uppercase;
      color: var(--muted2);
      margin-bottom: 6px;
    }

    .req-form input,
    .req-form textarea,
    .req-form select{
      width:100%;
      border-radius: 12px;
      padding: 12px 12px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.03);
      color: #fff;
      font-size: 14px;
      outline: none;
      transition: border-color .2s ease, box-shadow .2s ease;
    }
    .req-form textarea{ min-height: 96px; resize: vertical; }

    .req-form input:focus,
    .req-form textarea:focus,
    .req-form select:focus{
      border-color: rgba(179,31,36,0.45);
      box-shadow: 0 0 0 3px rgba(179,31,36,0.12);
    }

    /* select arrow */
    .req-form select{
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      background-image:
        linear-gradient(45deg, transparent 50%, rgba(255,255,255,0.7) 50%),
        linear-gradient(135deg, rgba(255,255,255,0.7) 50%, transparent 50%);
      background-position:
        calc(100% - 18px) calc(50% - 3px),
        calc(100% - 12px) calc(50% - 3px);
      background-size: 6px 6px, 6px 6px;
      background-repeat: no-repeat;
      padding-right: 34px;
    }
    .req-form select option{ color:#000; }

    .req-actions{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 10px;
    }
    .req-actions .btn{ padding: 12px 18px; }

    .pill{
      background: linear-gradient(135deg, rgba(10,10,10,.95), rgba(20,20,20,.9));
      border:1px solid rgba(255,255,255,0.12);
      padding:10px 16px;
      border-radius:999px;
      color:#fff;
      display:flex;
      align-items:center;
      gap:10px;
      cursor:pointer;
      transition:all .18s ease-out;
      box-shadow:0 10px 25px rgba(0,0,0,.5);
    }

    /* BAZOS – decent orange tech look */
    .pill--bazos{
      border-color:rgba(255,150,20,0.6);
    }
    .pill--bazos:hover{
      transform:translateY(-1px) scale(1.01);
      box-shadow:0 18px 45px rgba(255,120,10,.45);
    }

    /* KATALOG – VIP červeno čierny */
    .pill--catalog{
      background: linear-gradient(135deg, rgba(179,31,36,.18), rgba(179,31,36,.02));
      border-color:rgba(179,31,36,.8);
    }

    .pill--catalog:hover{
      transform:translateY(-1px) scale(1.02);
      box-shadow:0 18px 45px rgba(179,31,36,.55);
    }

    /* DOTS */
    .dot{
      width:8px;
      height:8px;
      border-radius:999px;
    }

    .dot--orange{ background:#ffae42; }
    .dot--catalog{ background:#b31f24; box-shadow:0 0 12px rgba(179,31,36,.9); }

    /* ====== STOCK (HORIZONTAL SCROLL) ===== */
    .stock-strip{
      margin-top: 16px;
      padding: 10px 8px 14px;
      border-top: 1px solid rgba(255,255,255,0.08);
    }

    .stock-scroll{
      display:flex;
      gap: 16px;
      overflow-x: auto;
      overflow-y: hidden;
      padding: 16px 2px 18px;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
    }
    .stock-scroll::-webkit-scrollbar{ height: 12px; }
    .stock-scroll::-webkit-scrollbar-thumb{
      background: rgba(255,255,255,0.14);
      border-radius: 999px;
      border: 2px solid rgba(0,0,0,0.35);
    }
    .stock-scroll::-webkit-scrollbar-thumb:hover{
      background: rgba(179,31,36,0.35);
    }

    .stock-item{
      flex: 0 0 270px;
      border:1px solid rgba(255,255,255,0.10);
      background: linear-gradient(180deg, rgba(20,20,20,0.96), rgba(10,10,10,0.82));
      border-radius: 18px;
      overflow:hidden;
      box-shadow: 0 14px 40px rgba(0,0,0,0.4);
      transition: transform .18s ease, border-color .18s ease, box-shadow .18s ease, background .18s ease;
      scroll-snap-align: start;
      cursor: pointer;
      position: relative;
    }
    .stock-item:hover{
      transform: translateY(-6px);
      border-color: rgba(179,31,36,0.45);
      box-shadow: 0 20px 55px rgba(0,0,0,0.65);
      background: linear-gradient(180deg, rgba(24,24,24,1), rgba(8,8,8,0.9));
    }

    .stock-img{
      position:relative;
      aspect-ratio: 4/3;
      background: rgba(255,255,255,0.03);
      border-bottom: 1px solid rgba(255,255,255,0.06);
      overflow: hidden;
    }
    .stock-img img{
      width:100%;
      height:100%;
      object-fit: cover;
      display:block;
      transition: transform .25s ease;
    }
    .stock-item:hover .stock-img img{
      transform: scale(1.04);
    }

    .bubble{
      position:absolute;
      left: 9px;
      top: 9px;
      padding: 5px 8px;
      border-radius: 999px;
      font-size: 10px;
      letter-spacing: .12em;
      font-weight: 900;
      text-transform: uppercase;
      color:#fff;
      border: 1px solid rgba(255,255,255,0.16);
      backdrop-filter: blur(8px);
    }
    .bubble-new{
      background: rgba(34,197,94,0.88);
      box-shadow: 0 10px 22px rgba(34,197,94,0.16);
    }
    .bubble-used{
      background: rgba(245,158,11,0.90);
      box-shadow: 0 10px 22px rgba(245,158,11,0.14);
    }

    .stock-body{
      padding: 12px 14px 14px;
    }
    .stock-top{
      display:flex;
      gap: 10px;
      align-items:flex-start;
      justify-content: space-between;
    }
    .stock-title{
      font-size: 12px;
      margin: 0;
      letter-spacing: .11em;
      line-height: 1.4;
      text-transform: uppercase;
      color:#fff;
      max-width: 65%;
    }

    .stock-price-wrap{
      display:flex;
      flex-direction:column;
      align-items:flex-end;
      gap:4px;
      margin-left:8px;
      flex-shrink:0;
    }
    .stock-price{
      font-weight: 900;
      font-size: 16px;
      white-space: nowrap;
      color:#fff;
    }
    .stock-price-suffix{
      font-size: 11px;
      color: var(--muted2);
      text-transform: uppercase;
      letter-spacing: .09em;
    }

    .stock-meta{
      display:flex;
      gap: 6px;
      flex-wrap: wrap;
      margin-top: 10px;
      margin-bottom: 4px;
    }

    .chip{
      display:inline-flex;
      align-items:center;
      padding: 5px 7px;
      border-radius: 999px;
      font-size: 10px;
      letter-spacing: .08em;
      text-transform: uppercase;
      color: var(--muted2);
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.03);
    }

    /* NOVÝ štýl pre SKLADOM */
    .chip--stock{
      background: radial-gradient(circle at 20% 0%, rgba(34,197,94,0.35), rgba(6,78,59,0.95));
      border-color: rgba(34,197,94,0.95);
      color:#eafff2;
      font-weight:800;
      letter-spacing:.12em;
      text-shadow:0 0 8px rgba(0,0,0,0.85);
      box-shadow:
        0 0 18px rgba(34,197,94,0.55),
        0 10px 26px rgba(0,0,0,0.65);
    }

    .stock-tags{
      margin-top: 8px;
      display:flex;
      flex-wrap:wrap;
      gap:4px;
    }

    .stock-tags .chip{
      font-size: 9px;
      padding: 4px 6px;
      opacity: 0.65;
      border-color: rgba(255,255,255,0.06);
      background: transparent;
      color: var(--muted2);
      box-shadow:none;
    }

    /* === MESTO S IKONOU === */
    .stock-location{
      display:inline-flex;
      align-items:center;
      gap:6px;
      font-size:11px;
      letter-spacing:.08em;
      text-transform:uppercase;
      color:var(--muted2);
      margin-top:6px;
      opacity:.9;
    }
    .stock-location .pin{
      width:14px;
      height:14px;
      flex:0 0 auto;
      color:rgba(255,255,255,0.8);
    }
    .stock-location:hover{
      color:#fff;
      opacity:1;
    }

    .stock-actions{
      display:flex;
      margin-top: 12px;
    }
    .stock-actions .btn{
      width: 100%;
      padding: 10px 12px;
      border-radius: 12px;
      font-size: 12px;
    }

    /* ====== MODAL PREVIEW ====== */
    .modal-overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.86);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:200;
      padding:16px;
    }
    .modal-overlay.is-visible{ display:flex; }

    .modal{
      background: radial-gradient(circle at top, rgba(179,31,36,0.18), rgba(10,10,10,0.95));
      border-radius:24px;
      border:1px solid rgba(255,255,255,0.14);
      max-width:980px;
      width:100%;
      display:grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
      gap:0;
      box-shadow:0 30px 90px rgba(0,0,0,0.85);
      position:relative;
      overflow:hidden;
    }

    .modal-close{
      position:absolute;
      right:14px;
      top:10px;
      border:none;
      background:transparent;
      color:rgba(255,255,255,0.7);
      font-size:22px;
      cursor:pointer;
      padding:6px;
      z-index:5;
      transition:color .2s ease, transform .2s ease;
    }
    .modal-close:hover{
      color:#fff;
      transform:scale(1.07);
    }

    .modal-media{
      position:relative;
      background:rgba(0,0,0,0.7);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:16px;
    }
    .modal-media img{
      width:100%;
      max-height:70vh;
      object-fit:contain;
      border-radius:18px;
      box-shadow:0 18px 60px rgba(0,0,0,0.85);
      background:#050505;
    }

    .modal-arrow{
      position:absolute;
      top:50%;
      transform:translateY(-50%);
      width:38px;
      height:38px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.35);
      background:rgba(0,0,0,0.55);
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      font-size:20px;
      color:#fff;
      backdrop-filter:blur(6px);
      transition:background .2s ease, transform .2s ease, border-color .2s ease, opacity .2s ease;
      opacity:.85;
    }
    .modal-arrow:hover{
      background:rgba(0,0,0,0.9);
      border-color:rgba(179,31,36,0.7);
      transform:translateY(-50%) scale(1.05);
      opacity:1;
    }
    .modal-prev{ left:14px; }
    .modal-next{ right:14px; }

    .modal-info{
      padding:24px 24px 20px;
      display:flex;
      flex-direction:column;
      gap:10px;
      background:linear-gradient(180deg, rgba(10,10,10,0.95), rgba(5,5,5,0.98));
    }
    .modal-title{
      font-size:16px;
      letter-spacing:.16em;
      text-transform:uppercase;
    }

    .modal-location{
      display:flex;
      align-items:center;
      gap:6px;
      font-size:11px;
      letter-spacing:.12em;
      text-transform:uppercase;
      color:var(--muted2);
    }
    .modal-location svg{
      width:14px;
      height:14px;
    }

    .modal-tags{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin-top:2px;
    }

    .modal-note{
      font-size:14px;
      line-height:1.6;
      margin-top:4px;
    }

    .modal-price-wrap{
      margin-top:8px;
      display:flex;
      flex-direction:column;
      align-items:flex-start;
      gap:2px;
    }
    .modal-price{
      font-size:26px;
      font-weight:900;
      color:var(--red);
      letter-spacing:.06em;
    }
    .modal-price-suffix{
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:.1em;
      color:var(--muted2);
    }

    .modal-meta{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin-top:10px;
    }

    .modal-actions{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top:18px;
    }
    .modal-actions .btn{
      padding:12px 18px;
      font-size:12px;
    }

    .modal-counter{
      position:absolute;
      right:16px;
      bottom:14px;
      font-size:11px;
      letter-spacing:.16em;
      text-transform:uppercase;
      color:rgba(255,255,255,0.7);
      background:rgba(0,0,0,0.6);
      padding:5px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.25);
      backdrop-filter:blur(6px);
    }

    /* kontakt boxy, footer atď – ostáva rovnaké */
    .contact-box{
      margin-top: 14px;
      display:grid;
      gap: 10px;
      max-width: 860px;
    }
    .contact-box label{
      display:block;
      font-size: 11px;
      letter-spacing: .12em;
      text-transform: uppercase;
      color: var(--muted2);
      margin-bottom: 6px;
    }
    .contact-box textarea{
      width:100%;
      border-radius: 14px;
      padding: 14px 14px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.03);
      color: #fff;
      font-size: 15px;
      outline: none;
      transition: border-color .2s ease, box-shadow .2s ease;
      min-height: 140px;
      resize: vertical;
    }
    .contact-box textarea:focus{
      border-color: rgba(179,31,36,0.45);
      box-shadow: 0 0 0 3px rgba(179,31,36,0.12);
    }
    .contact-box input{
      width:100%;
      border-radius: 10px;
      padding: 10px 12px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.03);
      color: #fff;
      font-size: 14px;
      outline: none;
      transition: border-color .2s ease, box-shadow .2s ease;
    }
    .contact-box input:focus{
      border-color: rgba(179,31,36,0.45);
      box-shadow: 0 0 0 3px rgba(179,31,36,0.12);
    }
    .contact-row{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    .contact-actions{
      margin-top: 8px;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
    }

    .reveal{opacity:0; transform: translateY(28px); transition: .8s ease}
    .reveal.active{opacity:1; transform: translateY(0)}

    .footer{
      display:flex;
      justify-content:space-between;
      align-items:center;
      flex-wrap:wrap;
      gap:12px;
      border-top:1px solid rgba(255,255,255,0.12);
      padding:14px 0;
      font-size:12px;
      color:var(--muted2);
    }

    .footer strong{
      color:#fff;
    }

    .footer-center{
      opacity:.9;
    }

    @media (max-width:700px){
      .footer{
        flex-direction:column;
        text-align:center;
      }
    }

    footer{
      padding:55px 0;
      border-top: 1px solid rgba(255,255,255,0.06);
      background: rgba(0,0,0,0.45);
    }
    .foot{
      display:flex; gap:18px; flex-wrap:wrap;
      align-items:center; justify-content:space-between;
      color: var(--muted2);
      font-size:13px;
    }

    .contact-flex{
      display: grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap: 30px;
    }

    .contact-left{
      display:flex;
      flex-direction:column;
      gap:14px;
    }

    .company-box{
      background: rgba(10,10,10,0.85);
      border:1px solid rgba(255,255,255,0.08);
      border-radius:18px;
      padding:22px 18px;
      box-shadow: 0 18px 40px rgba(0,0,0,.5);
    }

    .company-box h3{
      margin-top:0;
      margin-bottom:12px;
      text-transform:uppercase;
    }

    .company-box p{
      margin-bottom:14px;
      font-size:14px;
      line-height:1.6;
    }

    .company-box b{
      color:#fff;
    }

    @media(max-width:980px){
      .contact-flex{
        grid-template-columns:1fr;
      }
    }

    .pill-row{
      display:flex;
      align-items:center;
      justify-content:flex-start;
      gap:10px;
      flex-wrap:wrap;
    }

    .pill--bazos{
      display:flex;
      align-items:center;
      gap:10px;
      border:1px solid rgba(255,165,0,0.55);
      background: rgba(255,165,0,0.06);
      color:#fff;
      text-decoration:none;
      transition:
        transform .18s ease,
        box-shadow .18s ease,
        background .18s ease,
        border-color .18s ease;
      cursor:pointer;
      margin-left:auto;
    }
    .dot--orange{
      background:#ffa500;
      box-shadow:0 0 0 3px rgba(255,165,0,0.25);
    }
    .pill-bazos-text{ font-size:13.5px; white-space:nowrap; }
    .pill-arrow{
      font-size:14px;
      opacity:.8;
      transform: translateY(-1px);
      transition: transform .18s ease, opacity .18s ease;
    }
    .pill--bazos:hover{
      background: rgba(255,165,0,0.14);
      border-color:#ffa500;
      box-shadow: 0 12px 32px rgba(255,165,0,0.35);
      transform: translateY(-2px);
    }
    .pill--bazos:hover .pill-arrow{
      transform: translate(3px, -4px);
      opacity:1;
    }
    .pill--bazos:active{ transform: scale(0.98); }

    .pill--catalog{
      display:flex;
      align-items:center;
      gap:10px;
      border:1px solid rgba(179,31,36,0.75);
      background: rgba(179,31,36,0.10);
      color:#fff;
      text-decoration:none;
      transition:
        transform .18s ease,
        box-shadow .18s ease,
        background .18s ease,
        border-color .18s ease;
      cursor:pointer;
    }
    .dot--catalog{
      background: var(--red);
      box-shadow:0 0 0 3px rgba(179,31,36,0.35);
    }
    .pill--catalog:hover{
      background: rgba(179,31,36,0.20);
      border-color: var(--red);
      box-shadow: 0 12px 32px rgba(179,31,36,0.40);
      transform: translateY(-2px);
    }
    .pill--catalog:active{
      transform: scale(0.98);
    }

    @media (max-width: 980px){
      .wrap{
        padding: 0 18px;
        max-width: 720px;
        margin: 0 auto;
      }

      section{ padding: 78px 0; }
      .hero{ padding: 70px 0 60px; }

      .hero-grid{grid-template-columns:1fr; gap:22px}
      .split{grid-template-columns:1fr; gap:18px}

      h1{
        font-size: clamp(34px, 7vw, 48px);
        line-height: 1.08;
      }
      h2{ font-size: clamp(26px, 5.6vw, 34px); }
      p, .subline{
        font-size: 15px;
        line-height: 1.7;
        max-width: 100%;
      }

      .hero-title{ flex-wrap: wrap; gap: 10px; }
      .hero-logo-inline{ height: 64px; }
      .hero-dash{ font-size: 22px; }
      .hero-slogan-image{ height: 28px; }

      .ctaRow{ gap: 10px; }
      .btn{
        width: 100%;
        justify-content: center;
        padding: 14px 18px;
        font-size: 13px;
      }

      .heroCard{ padding: 18px; }
      .statRow{ grid-template-columns: 1fr; gap: 10px; }
      .stat b{ font-size: 16px; }

      .nav-centered{
        max-width: 100%;
        flex-direction: column;
        gap: 16px;
        padding: 14px 0;
      }
      .nav-links{
        gap: 18px;
        flex-wrap: wrap;
        justify-content: center;
      }
      .nav-links a{
        font-size: 12px;
        letter-spacing: .12em;
      }
      .brand-mini img{height: 52px}

      .grid{
        grid-template-columns: 1fr;
        gap: 20px;
        margin-top: 22px;
      }
      .card{
        padding: 20px;
        max-width: 680px;
        margin: 0 auto;
      }
      .card:hover{ transform: translateY(-3px); }
      .arrow{ right: 14px; bottom: 14px; }

      .req-form{
        grid-template-columns: 1fr;
        gap: 10px;
      }
      .req-form input,
      .req-form textarea,
      .req-form select{
        font-size: 16px;
      }
      .card.category-card.is-active .card-drop{ max-height: 85vh; }

      .panel{ padding: 22px; }

      .stock-item{ flex: 0 0 240px; }

      .contact-row{
        grid-template-columns: 1fr;
      }

      footer{ padding: 40px 0; }
      .foot{
        justify-content: center;
        text-align: center;
        gap: 10px;
      }

      .modal{
        grid-template-columns: 1fr;
        max-width: 640px;
      }
      .modal-media{
        padding:12px;
      }
      .modal-info{
        padding:18px 16px 16px;
      }
      .modal-price{
        font-size:22px;
      }
    }

    @media (max-width:700px){
      .pill-row{ justify-content:flex-start; }
      .modal-counter{
        right:10px;
        bottom:10px;
      }
    }
  </style>
</head>

<body id="top">
  <div class="bg"></div>
  <div class="noise"></div>

  <div class="topbar">
    <div class="wrap nav nav-centered">
      <a href="#top" class="brand-mini" aria-label="RACEM">
        <img src="assets/racem-logo.png" alt="RACEM logo">
      </a>

      <nav class="nav-links">
        <a href="katalog.html">Katalóg dielov</a>
        <a href="#kategorie">Kategórie</a>
        <a href="#kontakt">Kontakt</a>
        <a href="vop.html">Obchodné podmienky</a>
        <a href="hviezdne-stropy.html">Hviezdne stropy</a>
      </nav>
    </div>
  </div>

  <!-- HERO -->
  <section class="hero">
    <div class="wrap hero-grid">
      <div class="headline">
        <h1 class="hero-title">
          <a href="#kontakt" class="hero-logo-link" aria-label="Kontakt">
            <img src="assets/racem-logo.png" alt="RACEM" class="hero-logo-inline">
          </a>
          <span class="hero-dash">–</span>
          <img src="assets/text.png" alt="BEAT THEM ALL" class="hero-slogan-image">
        </h1>

        <p class="subline">
          Chceš byť najrýchlejší na trati, no chýbajú ti diely na dokončenie projektu? Nemaj strach, u nás v RACEM ti zoženieme všetko.
          Či sa jedná o skrutky, autodiely, prevádzkové kvapaliny alebo dokonca diely z NASCAR áut, nájdeme to, zjednáme cenu a donesieme ti to priamo ku dverám.
        </p>

        <div class="ctaRow">
          <a class="btn btnPrimary" href="#kontakt">Nezáväzná ponuka</a>
          <a class="btn btnGhost" href="#kategorie">Kategórie</a>
        </div>
      </div>

      <div class="heroCard reveal">
        <h3>REM Performance - Distribútor Dielov</h3>
        <p class="muted2">Keď to nevieš nájsť, alebo nechceš preplatiť, náš tím je tu pre teba. Odpovedáme rýchlo a priamo.</p>

        <div class="statRow">
          <div class="stat"><b>Autodiely</b><span>vyhľadáme, overíme, dodáme</span></div>
          <div class="stat"><b>Sponzoring</b><span>Podporujeme motošportové talenty</span></div>
          <div class="stat"><b>Nezohnateľné diely</b><span>Nájdeme, zjednáme cenu, dodáme k tebe domov</span></div>
          <div class="stat"><b>Zostaň v postrehu</b><span>Naše diely na ruke obmieňame každý mesiac</span></div>
        </div>
      </div>
    </div>
  </section>

  <!-- KTO SME -->
  <section id="kto-sme">
    <div class="wrap">
      <div class="split">
        <div class="reveal">
          <h2>Podporujeme Vás</h2>
          <div class="panel" style="margin-top:18px">
            <span class="pill"><span class="dot"></span> motorsport • tímy • podpora</span>
            <h3 style="margin-top:16px">Podpora motorsportu & tímov</h3>

            <p>
              Motoršport nie je len hobby. Je to <b>disciplína, obeta a vášeň</b>.
              RACEM aktívne podporuje mladé talenty ktoré bojujú o úspech –
              od lokálnych drift tímov až po profesionálne pretekárske zostavy.
            </p>

            <p class="muted2">
              <b>Podporujeme:</b><br>
              • drift tímy a jednotlivcov<br>
              • amatérske aj profesionálne preteky<br>
              • lokálne aj národné motoristické podujatia
            </p>

            <p class="muted2" style="margin-top:12px">
              <b>Ponúkame:</b><br>
              • sponzoring tímov a jazdcov<br>
              • zvýhodnené ceny dielov a služieb<br>
              • technickú a traťovú podporu<br>
              • individuálny a férový prístup
            </p>

            <p style="margin-top:14px">
              Ak buduješ auto, tím alebo celý projekt a hľadáš partnera,
              ktorý rozumie realite motorsportu, <b>radi sa staneme súčasťou tvojej cesty</b>.
            </p>

            <div class="ctaRow" style="margin-top:12px">
              <a class="btn btnPrimary" href="#kontakt">Kontaktuj nás</a>
            </div>
          </div>
        </div>

        <div class="panel reveal">
          <h3>Nemáš čo stratiť</h3>

          <p class="muted2">
            Pretože nechceš len diel. Chceš istotu, že to čo namontuješ,
            bude pasovať, vydrží a má zmysel investovať do toho peniaze.
          </p>

          <p class="muted2" style="margin-top:10px">
            <b>Čo získaš ty:</b><br>
            • menšie riziko chybného dielu a zbytočných návratov do servisu<br>
            • výber podľa tvojho cieľa a rozpočtu – nie „jedna správna možnosť“<br>
            • reálne informácie o dostupnosti a cene, nie marketingové rozprávky<br>
            • pokoj v hlave, že tvoje auto je riešené rozumne a funkčne
            • neplatíš za nič, len dodanie a diel, a aj to až keď ho budeš fyzicky držať v rukách 
          </p>

          <p class="muted2" style="margin-top:14px">
            Výsledok? Menej stresu, menej stratených peňazí, viac radosti z auta.
            Presne tak to má vyzerať.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- NEZOHNATELNY DIEL -->
  <section>
    <div class="wrap">
      <div class="panel reveal" style="padding:40px">
        <span class="pill">
          <span class="dot"></span>
          nezohnateľné • špecifické • atypické • racing
        </span>

        <h2 style="margin-top:22px; max-width:1100px">
          Máš nezohnateľný diel alebo riešiš niečo, čo bežné e-shopy nevedia?
        </h2>

        <p style="font-size:17px; max-width:1000px">
          Presne na toto je tu náš tím.
          Nezáleží, či ide o jeden špecifický šrób, diel z limitovanej edície,
          komponent zo závodného auta alebo riešenie mimo katalógu.
        </p>

        <p class="muted2" style="margin-top:16px; max-width:980px">
          <b>Čo pre teba spravíme:</b><br>
          • aktívne vyhľadáme diely mimo bežnej distribúcie<br>
          • preveríme kompatibilitu a reálne použitie v praxi<br>
          • oslovíme zahraničných dodávateľov, sklady aj súkromné zdroje<br>
          • navrhneme alternatívy, ak originál nie je dostupný
        </p>

        <p class="muted2" style="margin-top:14px; max-width:980px">
          Vyhľadanie a návrh riešenia robíme <span class="red"><b>zadarmo</b></span>.
          Platíš až vtedy, keď sa dohodneme na konkrétnom diele, cene a dodaní.
          Bez záväzkov, bez skrytých poplatkov.
        </p>

        <p style="margin-top:16px; max-width:980px">
          Ak riešiš projekt, kde bežné riešenia nestačia,
          radi to preberieme a nájdeme cestu, ktorá dáva technický aj finančný zmysel.
        </p>

        <div class="ctaRow" style="margin-top:20px">
          <a class="btn btnPrimary" href="#kontakt">Chcem zohnať diel</a>
          <a class="btn btnGhost" href="#kategorie">Pozrieť kategórie</a>
        </div>
      </div>
    </div>
  </section>

  <!-- KATEGORIE -->
  <section id="kategorie">
    <div class="wrap">
      <h2 class="reveal">Kategórie</h2>
      <p class="reveal">
        Vyber si, v akej lige chceš riešenie. Od budgetu až po čistý performance.
        Ak nevieš, napíš – navrhneme najlepšiu cestu.
      </p>

      <div class="grid">
        <!-- STREET -->
        <div class="card reveal category-card" tabindex="0">
          <div class="tag"><span class="dot"></span> STREET</div>
          <h3>Street racing</h3>
          <p>Setupy na bežné jazdenie aj tvrdšie konfigurácie. Praktické, funkčné, bez kompromisov.</p>
          <div class="arrow">→</div>
          <div class="card-drop">
            <form class="req-form" action="https://formspree.io/f/mwvekvgy" method="POST">
              <div><label>Značka</label><input type="text" name="znacka" placeholder="BMW / Audi / VW..."></div>
              <div><label>Model</label><input type="text" name="model" placeholder="E46 330i / A4 B7 / Golf 5 GTI"></div>
              <div><label>Označenie motora</label><input type="text" name="oznacenie_motora" placeholder="M54B30 / BWA / 1.8T AUM"></div>
              <div><label>Motorizácia</label><input type="text" name="motorizacia" placeholder="3.0i 170kW / 2.0 TFSI / 1.8T 110kW"></div>
              <div><label>Ročník</label><input type="text" name="rocnik" placeholder="2001–2005"></div>
              <div><label>Karoséria</label><input type="text" name="karoseria" placeholder="Sedan / Touring / Coupe"></div>
              <div><label>Číslo dielu (ak je)</label><input type="text" name="cislo_dielu" placeholder="OEM / číslo dielu / kód"></div>
              <div class="full"><label>Diel</label><input type="text" name="diel" placeholder="Napr. brzdy, ramená, výfuk, sanie..."></div>
              <div class="full"><label>Poznámka</label><textarea name="poznamka" placeholder="Rozpočet, cieľ, čo už máš spravené, preferencie..."></textarea></div>

              <div class="full">
                <label>Meno a priezvisko</label>
                <input type="text" name="meno" placeholder="Meno a priezvisko" required>
              </div>
              <div>
                <label>Email</label>
                <input type="email" name="email" placeholder="tvoj@email.sk" required>
              </div>
              <div>
                <label>Telefón</label>
                <input type="text" name="telefon" placeholder="+421..." required>
              </div>

              <input type="hidden" name="kategoria" value="Street racing">
              <div class="full req-actions">
                <button class="btn btnPrimary" type="submit">Odoslať dopyt</button>
                <a class="btn btnGhost closeCardBtn" href="javascript:void(0)">Zavrieť</a>
              </div>
            </form>
          </div>
        </div>

        <!-- PERFORMANCE -->
        <div class="card reveal category-card" tabindex="0">
          <div class="tag"><span class="dot"></span> PERFORMANCE</div>
          <h3>Performance & športové</h3>
          <p>Výkon, brzdy, podvozok, sanie, výfuk, chladenie – diely, ktoré robia rozdiel.</p>
          <div class="arrow">→</div>
          <div class="card-drop">
            <form class="req-form" action="https://formspree.io/f/mwvekvgy" method="POST">
              <div><label>Značka</label><input type="text" name="znacka" placeholder="VW / BMW / Mercedes..."></div>
              <div><label>Model</label><input type="text" name="model" placeholder="Golf 7 GTI / E92 335i / C63 W204"></div>
              <div><label>Označenie motora</label><input type="text" name="oznacenie_motora" placeholder="EA888 Gen3 / N55B30 / M156"></div>
              <div><label>Motorizácia</label><input type="text" name="motorizacia" placeholder="2.0 TSI / 3.0i turbo / 6.2 V8"></div>
              <div><label>Ročník</label><input type="text" name="rocnik" placeholder="2010–2016"></div>
              <div><label>Karoséria</label><input type="text" name="karoseria" placeholder="Hatch / Sedan / Coupe"></div>
              <div><label>Číslo dielu (ak je)</label><input type="text" name="cislo_dielu" placeholder="Napr. 8V0... / 11 62 ..."></div>
              <div class="full"><label>Diel</label><input type="text" name="diel" placeholder="Downpipe, intercooler, brzdy, podvozok..."></div>
              <div class="full"><label>Poznámka</label><textarea name="poznamka" placeholder="Cieľ výkonu, či bude mapa, požiadavky na zvuk..."></textarea></div>

              <div class="full">
                <label>Meno a priezvisko</label>
                <input type="text" name="meno" placeholder="Meno a priezvisko" required>
              </div>
              <div>
                <label>Email</label>
                <input type="email" name="email" placeholder="tvoj@email.sk" required>
              </div>
              <div>
                <label>Telefón</label>
                <input type="text" name="telefon" placeholder="+421..." required>
              </div>

              <input type="hidden" name="kategoria" value="Performance & športové">
              <div class="full req-actions">
                <button class="btn btnPrimary" type="submit">Odoslať dopyt</button>
                <a class="btn btnGhost closeCardBtn" href="javascript:void(0)">Zavrieť</a>
              </div>
            </form>
          </div>
        </div>

        <!-- DRIFT -->
        <div class="card reveal category-card" tabindex="0">
          <div class="tag"><span class="dot"></span> DRIFT</div>
          <h3>Drift</h3>
          <p>Angle kit, LSD, chladiace sety, brzdy, ramená, steering úpravy – veci, čo drift reálne potrebuje.</p>
          <div class="arrow">→</div>
          <div class="card-drop">
            <form class="req-form" action="https://formspree.io/f/mwvekvgy" method="POST">
              <div><label>Značka</label><input type="text" name="znacka" placeholder="BMW / Nissan / Toyota..."></div>
              <div><label>Model</label><input type="text" name="model" placeholder="E36 / E46 / S13 / IS200"></div>
              <div><label>Označenie motora</label><input type="text" name="oznacenie_motora" placeholder="M52TUB25 / M54B30 / SR20DET / 1JZ"></div>
              <div><label>Motorizácia</label><input type="text" name="motorizacia" placeholder="2.5 / 3.0 / turbo setup / kompresor"></div>
              <div><label>Ročník</label><input type="text" name="rocnik" placeholder="1995–2004"></div>
              <div><label>Karoséria</label><input type="text" name="karoseria" placeholder="Sedan / Coupe"></div>
              <div><label>Číslo dielu (ak je)</label><input type="text" name="cislo_dielu" placeholder="Ak poznáš presný kit/kód, hoď sem"></div>
              <div class="full"><label>Diel</label><input type="text" name="diel" placeholder="LSD, angle kit, ramená, hydro ručka, chladič..."></div>
              <div class="full"><label>Poznámka</label><textarea name="poznamka" placeholder="Úroveň (street/comp), aké gumy, aký výkon, cieľ driftu..."></textarea></div>

              <div class="full">
                <label>Meno a priezvisko</label>
                <input type="text" name="meno" placeholder="Meno a priezvisko" required>
              </div>
              <div>
                <label>Email</label>
                <input type="email" name="email" placeholder="tvoj@email.sk" required>
              </div>
              <div>
                <label>Telefón</label>
                <input type="text" name="telefon" placeholder="+421..." required>
              </div>

              <input type="hidden" name="kategoria" value="Drift">
              <div class="full req-actions">
                <button class="btn btnPrimary" type="submit">Odoslať dopyt</button>
                <a class="btn btnGhost closeCardBtn" href="javascript:void(0)">Zavrieť</a>
              </div>
            </form>
          </div>
        </div>

        <!-- RACING -->
        <div class="card reveal category-card" tabindex="0">
          <div class="tag"><span class="dot"></span> RACING</div>
          <h3>Závodné</h3>
          <p>Komponenty pre okruh, drag aj šprinty. Priorita je funkcia, odolnosť a výsledok.</p>
          <div class="arrow">→</div>
          <div class="card-drop">
            <form class="req-form" action="https://formspree.io/f/mwvekvgy" method="POST">
              <div><label>Značka</label><input type="text" name="znacka" placeholder="Nissan / BMW / Honda..."></div>
              <div><label>Model</label><input type="text" name="model" placeholder="350Z / E46 / Civic EP3"></div>
              <div><label>Označenie motora</label><input type="text" name="oznacenie_motora" placeholder="VQ35DE / S54 / K20A"></div>
              <div><label>Motorizácia</label><input type="text" name="motorizacia" placeholder="3.5 V6 / 3.2 / 2.0 i-VTEC"></div>
              <div><label>Ročník</label><input type="text" name="rocnik" placeholder="2000–2007"></div>
              <div><label>Karoséria</label><input type="text" name="karoseria" placeholder="Coupe / Hatch / Sedan"></div>
              <div><label>Číslo dielu (ak je)</label><input type="text" name="cislo_dielu" placeholder="Spec/part number ak máš"></div>
              <div class="full"><label>Diel</label><input type="text" name="diel" placeholder="Závodné brzdy, chladič, palivo, spojka, poloosy..."></div>
              <div class="full"><label>Poznámka</label><textarea name="poznamka" placeholder="Okruh/drag, cieľ, hmotnosť auta, podmienky..."></textarea></div>

              <div class="full">
                <label>Meno a priezvisko</label>
                <input type="text" name="meno" placeholder="Meno a priezvisko" required>
              </div>
              <div>
                <label>Email</label>
                <input type="email" name="email" placeholder="tvoj@email.sk" required>
              </div>
              <div>
                <label>Telefón</label>
                <input type="text" name="telefon" placeholder="+421..." required>
              </div>

              <input type="hidden" name="kategoria" value="Závodné">
              <div class="full req-actions">
                <button class="btn btnPrimary" type="submit">Odoslať dopyt</button>
                <a class="btn btnGhost closeCardBtn" href="javascript:void(0)">Zavrieť</a>
              </div>
            </form>
          </div>
        </div>

        <!-- OEM / ORIGINAL -->
        <div class="card reveal category-card" tabindex="0">
          <div class="tag"><span class="dot"></span> OEM</div>
          <h3>OEM / originálne diely</h3>
          <p>Originál alebo OEM alternatíva. Správne čísla dielov, kompatibilita, bez lotérie.</p>
          <div class="arrow">→</div>
          <div class="card-drop">
            <form class="req-form" action="https://formspree.io/f/mwvekvgy" method="POST">
              <div><label>Značka</label><input type="text" name="znacka" placeholder="BMW / Audi / VW..."></div>
              <div><label>Model</label><input type="text" name="model" placeholder="E46 / A4 B7 / Octavia..."></div>
              <div><label>Označenie motora</label><input type="text" name="oznacenie_motora" placeholder="M54 / 1.9 TDI / ..."></div>
              <div><label>Motorizácia</label><input type="text" name="motorizacia" placeholder="2.5i / 1.9 TDI 77kW..."></div>
              <div><label>Ročník</label><input type="text" name="rocnik" placeholder="2001–2005"></div>
              <div><label>Karoséria</label><input type="text" name="karoseria" placeholder="Sedan / Touring / Coupe"></div>
              <div><label>Číslo dielu (ak je)</label><input type="text" name="cislo_dielu" placeholder="OEM číslo / kód"></div>
              <div class="full"><label>Diel</label><input type="text" name="diel" placeholder="Senzor, tesnenie, ramená, pumpa..."></div>
              <div class="full"><label>Poznámka</label><textarea name="poznamka" placeholder="Chcem OEM / originál, prípadne alternatívy."></textarea></div>

              <div class="full">
                <label>Meno a priezvisko</label>
                <input type="text" name="meno" placeholder="Meno a priezvisko" required>
              </div>
              <div>
                <label>Email</label>
                <input type="email" name="email" placeholder="tvoj@email.sk" required>
              </div>
              <div>
                <label>Telefón</label>
                <input type="text" name="telefon" placeholder="+421..." required>
              </div>

              <input type="hidden" name="kategoria" value="OEM / originálne diely">
              <div class="full req-actions">
                <button class="btn btnPrimary" type="submit">Odoslať dopyt</button>
                <a class="btn btnGhost closeCardBtn" href="javascript:void(0)">Zavrieť</a>
              </div>
            </form>
          </div>
        </div>

        <!-- BUDGET -->
        <div class="card reveal category-card" tabindex="0">
          <div class="tag"><span class="dot"></span> BUDGET</div>
          <h3>Budget riešenia</h3>
          <p>Najnižšia cena, ktorá ešte dáva zmysel. Keď treba jazdiť, nie plakať.</p>
          <div class="arrow">→</div>
          <div class="card-drop">
            <form class="req-form" action="https://formspree.io/f/mwvekvgy" method="POST">
              <div><label>Značka</label><input type="text" name="znacka" placeholder="Škoda / BMW / Ford..."></div>
              <div><label>Model</label><input type="text" name="model" placeholder="Octavia / E46 / Focus..."></div>
              <div><label>Označenie motora</label><input type="text" name="oznacenie_motora" placeholder="ALH / M52TU / ..."></div>
              <div><label>Motorizácia</label><input type="text" name="motorizacia" placeholder="1.9 TDI / 2.5i..."></div>
              <div><label>Ročník</label><input type="text" name="rocnik" placeholder="2000–2008"></div>
              <div><label>Karoséria</label><input type="text" name="karoseria" placeholder="Sedan / Kombi / Hatch"></div>
              <div><label>Rozpočet</label><input type="text" name="rozpocet" placeholder="Napr. do 60 €"></div>
              <div class="full"><label>Diel</label><input type="text" name="diel" placeholder="Brzdy, ramená, senzory, filtre..."></div>
              <div class="full"><label>Poznámka</label><textarea name="poznamka" placeholder="Čo je priorita? Cena / rýchlosť / minimum kvality."></textarea></div>

              <div class="full">
                <label>Meno a priezvisko</label>
                <input type="text" name="meno" placeholder="Meno a priezvisko" required>
              </div>
              <div>
                <label>Email</label>
                <input type="email" name="email" placeholder="tvoj@email.sk" required>
              </div>
              <div>
                <label>Telefón</label>
                <input type="text" name="telefon" placeholder="+421..." required>
              </div>

              <input type="hidden" name="kategoria" value="Budget riešenia">
              <div class="full req-actions">
                <button class="btn btnPrimary" type="submit">Odoslať dopyt</button>
                <a class="btn btnGhost closeCardBtn" href="javascript:void(0)">Zavrieť</a>
              </div>
            </form>
          </div>
        </div>

        <!-- BEST VALUE -->
        <div class="card reveal category-card" tabindex="0">
          <div class="tag"><span class="dot"></span> BEST VALUE</div>
          <h3>Best value</h3>
          <p>Najlepší pomer cena/výkon. Nie najlacnejšie, ale najrozumnejšie.</p>
          <div class="arrow">→</div>
          <div class="card-drop">
            <form class="req-form" action="https://formspree.io/f/mwvekvgy" method="POST">
              <div><label>Značka</label><input type="text" name="znacka" placeholder="BMW / VW / Mercedes..."></div>
              <div><label>Model</label><input type="text" name="model" placeholder="E46 / Golf / C-class..."></div>
              <div><label>Označenie motora</label><input type="text" name="oznacenie_motora" placeholder="M54 / EA888 / ..."></div>
              <div><label>Motorizácia</label><input type="text" name="motorizacia" placeholder="2.5i / 2.0 TSI..."></div>
              <div><label>Ročník</label><input type="text" name="rocnik" placeholder="2004–2012"></div>
              <div><label>Karoséria</label><input type="text" name="karoseria" placeholder="Sedan / Coupe / Kombi"></div>
              <div><label>Číslo dielu (ak je)</label><input type="text" name="cislo_dielu" placeholder="OEM / kód"></div>
              <div class="full"><label>Diel</label><input type="text" name="diel" placeholder="Brzdy, podvozok, výfuk, senzory..."></div>
              <div class="full"><label>Poznámka</label><textarea name="poznamka" placeholder="Chcem najlepší pomer cena/výkon. Preferencie značiek?"></textarea></div>

              <div class="full">
                <label>Meno a priezvisko</label>
                <input type="text" name="meno" placeholder="Meno a priezvisko" required>
              </div>
              <div>
                <label>Email</label>
                <input type="email" name="email" placeholder="tvoj@email.sk" required>
              </div>
              <div>
                <label>Telefón</label>
                <input type="text" name="telefon" placeholder="+421..." required>
              </div>

              <input type="hidden" name="kategoria" value="Best value">
              <div class="full req-actions">
                <button class="btn btnPrimary" type="submit">Odoslať dopyt</button>
                <a class="btn btnGhost closeCardBtn" href="javascript:void(0)">Zavrieť</a>
              </div>
            </form>
          </div>
        </div>

        <!-- SERVICE -->
        <div class="card reveal category-card" tabindex="0">
          <div class="tag"><span class="dot"></span> SERVICE</div>
          <h3>Náhradné diely</h3>
          <p>Bežné aj špecifické servisné veci. Keď potrebuješ rýchlo opraviť a jazdiť ďalej.</p>
          <div class="arrow">→</div>
          <div class="card-drop">
            <form class="req-form" action="https://formspree.io/f/mwvekvgy" method="POST">
              <div><label>Značka</label><input type="text" name="znacka" placeholder="Škoda / Ford / Opel..."></div>
              <div><label>Model</label><input type="text" name="model" placeholder="Octavia 1 / Focus MK2 / Astra H"></div>
              <div><label>Označenie motora</label><input type="text" name="oznacenie_motora" placeholder="ALH / 1.6 TDCi / Z18XER"></div>
              <div><label>Motorizácia</label><input type="text" name="motorizacia" placeholder="1.9 TDI / 1.6 / 2.0"></div>
              <div><label>Ročník</label><input type="text" name="rocnik" placeholder="2002"></div>
              <div><label>Karoséria</label><input type="text" name="karoseria" placeholder="Kombi / Hatch / Sedan"></div>

              <div class="full">
                <label>Stav dielu</label>
                <select name="stav_dielu">
                  <option value="" selected>Vyber…</option>
                  <option value="Nové">Nové</option>
                  <option value="Použité">Použité</option>
                  <option value="Repasované">Repasované</option>
                </select>
              </div>

              <div><label>Číslo dielu (ak je)</label><input type="text" name="cislo_dielu" placeholder="Napr. VIN kompatibilita / OEM číslo"></div>
              <div class="full"><label>Diel</label><input type="text" name="diel" placeholder="Ramená, ložiská, brzdy, filtre, senzory..."></div>
              <div class="full"><label>Poznámka</label><textarea name="poznamka" placeholder="Symptóm, čo to robí, čo už bolo menené..."></textarea></div>

              <div class="full">
                <label>Meno a priezvisko</label>
                <input type="text" name="meno" placeholder="Meno a priezvisko" required>
              </div>
              <div>
                <label>Email</label>
                <input type="email" name="email" placeholder="tvoj@email.sk" required>
              </div>
              <div>
                <label>Telefón</label>
                <input type="text" name="telefon" placeholder="+421..." required>
              </div>

              <input type="hidden" name="kategoria" value="Náhradné diely">
              <div class="full req-actions">
                <button class="btn btnPrimary" type="submit">Odoslať dopyt</button>
                <a class="btn btnGhost closeCardBtn" href="javascript:void(0)">Zavrieť</a>
              </div>
            </form>
          </div>
        </div>
      </div><!-- /grid -->

      <!-- STOCK (HORIZONTAL SCROLL) -->
      <div class="panel reveal" id="stock" style="margin-top:34px; padding:34px;">

        <div class="pill-row">
          <span class="pill">
            <span class="dot"></span>
            skladom • ihneď dostupné • odosielame do 24h
          </span>

          <a class="pill pill--bazos"
             href="https://www.bazos.sk/hodnotenie.php?idmail=6124650&idphone=5087097&jmeno=REM+Performance+Parts"
             target="_blank" rel="noopener">
            <span class="dot dot--orange"></span>
            <span class="pill-bazos-text"><b>Bazoš</b> • všetky inzeráty</span>
            <span class="pill-arrow">↗</span>
          </a>

          <a class="pill pill--catalog" href="katalog.html">
            <span class="dot dot--catalog"></span>
            <span class="pill-bazos-text"><b>Katalóg</b> • všetky diely</span>
            <span class="pill-arrow">→</span>
          </a>
        </div>

        <h2 style="margin-top:16px; max-width:1100px">Čo máme práve na ruke</h2>
        <p style="font-size:16px; max-width:980px">
          Veci, ktoré sú fyzicky dostupné ihneď. Scrolluj do strán, klikni na kartičku pre veľký náhľad alebo na <b>Mám záujem</b> pre rýchly dopyt.
        </p>

        <div class="stock-strip">
          <div class="stock-scroll" id="stockScroll">
            <!-- Sem sa to NAČÍTA z JSONu cez JavaScript -->
          </div>
        </div>

      </div><!-- /#stock panel -->

    </div><!-- /wrap -->
  </section><!-- /#kategorie -->

  <!-- KONTAKT -->
  <section id="kontakt">
    <div class="wrap">
      <h2 class="reveal">Kontakt</h2>
      <p class="reveal">
        Kontaktuj náš tím
      </p>

      <div class="panel reveal contact-flex">
        <!-- ĽAVÁ STRANA – FORMULÁR -->
        <div class="contact-left">
          <h3>KONTAKT</h3>
          <p class="muted2"><b>Email:</b> info@remperformance.sk</p>
          <p class="muted2">
            Vyhľadanie dielov, návrh alternatív a individuálne konzultácie robíme zdarma.
          </p>

          <form id="contactForm" class="contact-box" action="https://formspree.io/f/mwvekvgy" method="POST">
            <div>
              <label for="contactName">Meno a priezvisko</label>
              <input id="contactName" name="meno" type="text" placeholder="Meno a priezvisko" required>
            </div>

            <div class="contact-row">
              <div>
                <label for="contactEmail">Email</label>
                <input id="contactEmail" name="email" type="email" placeholder="tvoj@email.sk" required>
              </div>
              <div>
                <label for="contactPhone">Telefón</label>
                <input id="contactPhone" name="telefon" type="text" placeholder="+421..." required>
              </div>
            </div>

            <div>
              <label for="kontaktMsg">Správa</label>
              <textarea id="kontaktMsg" name="sprava" placeholder="Napíš tvoju správu sem..."></textarea>
            </div>

            <div class="contact-actions">
              <button type="submit" class="btn btnPrimary">Odoslať dopyt</button>
            </div>
          </form>
        </div>

        <!-- PRAVÁ STRANA – INFO BOX -->
        <div class="company-box">
          <h3>ČO SA DEJE PO ODOSLANÍ DOPYTU</h3>

          <p class="muted2">
            <b>1. Pozrieme sa na tvoju požiadavku</b><br>
            Podľa tvojich uvedených detailov vyberáme diely, ktoré dávajú zmysel – nie len prvú vec z katalógu.
          </p>

          <p class="muted2">
            <b>2. Overíme dostupnosť u dodávateľov</b><br>
            Pozrieme sklad u našich partnerov (SR, ČR, EÚ, USA, JP) a zistíme stav dielu, reálnu cenu, dodaciu lehotu a cenu dodania na SR, vyžiadame si fotografie a overíme si či je diel nový alebo použitý.
          </p>

          <p class="muted2">
            <b>3. Pošleme ti ponuku na e-mail</b><br>
            Dostaneš prehľadnú ponuku – diel, stav, cena, doprava, fotografie, dodacia lehota, krajina pôvodu, výrobca.
            Ak súhlasíš, objednávku potvrdíš, zaplatíš zálohu a diel ti dovezieme priamo ku dverám. 
          </p>

          <p class="muted2">
            <b>Poznámky:</b><br>
            U nás nerozhoduje logo na kapote. Škoda, VW, Audi, BMW, Lamborghini či Formula – každý zákazník má rovnaký prístup,
            rovnaký rešpekt a rovnakú snahu nájsť to najlepšie riešenie.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- MODAL PREVIEW -->
  <div class="modal-overlay" id="stockModal">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <button class="modal-close" type="button" aria-label="Zavrieť náhľad">✕</button>

      <div class="modal-media">
        <button class="modal-arrow modal-prev" type="button" aria-label="Predchádzajúci obrázok">‹</button>
        <img id="modalImage" src="" alt="">
        <button class="modal-arrow modal-next" type="button" aria-label="Nasledujúci obrázok">›</button>
        <div class="modal-counter" id="modalCounter">1 / 1</div>
      </div>

      <div class="modal-info">
        <h3 class="modal-title" id="modalTitle"></h3>

        <div class="modal-location" id="modalLocation" style="display:none;">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path fill="currentColor"
              d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 
                 9.5c-1.38 0-2.5-1.12-2.5-2.5S10.62 6.5 12 6.5s2.5 1.12 
                 2.5 2.5S13.38 11.5 12 11.5z"/>
          </svg>
          <span id="modalLocationText"></span>
        </div>

        <div class="modal-tags" id="modalTags"></div>

        <p class="modal-note muted2" id="modalNote"></p>

        <div class="modal-price-wrap">
          <div class="modal-price" id="modalPrice"></div>
          <div class="modal-price-suffix" id="modalPriceSuffix"></div>
        </div>

        <div class="modal-meta">
          <span class="chip" id="modalCondition" style="display:none;"></span>
          <span class="chip chip--stock" id="modalStockLabel" style="display:none;"></span>
        </div>

        <div class="modal-actions">
          <button class="btn btnPrimary" type="button" id="modalInterestBtn">Mám záujem o tento diel</button>
          <button class="btn btnGhost" type="button" id="modalCloseBtn">Zavrieť</button>
        </div>
      </div>
    </div>
  </div>

  <footer>
    <div class="wrap foot footer-layout">
      <div>
        Prevádzkovateľ webu – 
        <span class="red"><b>REM Performance</b></span>
      </div>

      <div class="footer-center">
        © 2026 REM Performance
      </div>

      <div class="muted2">
        Performance diely • autodielydiely • sponzoring
      </div>
    </div>
  </footer>

  <script>
    // ===== MODAL STATE =====
    const stockModal = document.getElementById('stockModal');
    const modalImg = document.getElementById('modalImage');
    const modalTitle = document.getElementById('modalTitle');
    const modalNote = document.getElementById('modalNote');
    const modalPrice = document.getElementById('modalPrice');
    const modalPriceSuffix = document.getElementById('modalPriceSuffix');
    const modalLocationWrap = document.getElementById('modalLocation');
    const modalLocationText = document.getElementById('modalLocationText');
    const modalTags = document.getElementById('modalTags');
    const modalCondition = document.getElementById('modalCondition');
    const modalStockLabel = document.getElementById('modalStockLabel');
    const modalCounter = document.getElementById('modalCounter');
    const modalPrev = document.querySelector('.modal-prev');
    const modalNext = document.querySelector('.modal-next');
    const modalCloseBtn = document.getElementById('modalCloseBtn');
    const modalCloseIcon = document.querySelector('.modal-close');
    const modalInterestBtn = document.getElementById('modalInterestBtn');

    const modalState = {
      images: [],
      index: 0,
      card: null
    };

    function updateModalImage() {
      if (!modalState.images.length) return;
      const src = modalState.images[modalState.index];
      modalImg.src = src;
      const total = modalState.images.length;
      modalCounter.textContent = (modalState.index + 1) + ' / ' + total;
    }

    function openModalFromCard(card) {
      modalState.card = card;

      const titleEl = card.querySelector('.stock-title');
      const priceEl = card.querySelector('.stock-price');
      const suffixEl = card.querySelector('.stock-price-suffix');
      const tagContainer = card.querySelector('.stock-tags');
      const stockLabelEl = card.querySelector('.chip--stock');
      const locSpan = card.querySelector('.stock-location span');

      const title = titleEl ? titleEl.textContent.trim() : '';
      const price = priceEl ? priceEl.textContent.trim() : '';
      const suffix = suffixEl ? suffixEl.textContent.trim() : '';
      const note = card.dataset.note || '';
      const condition = card.dataset.condition || '';
      const stockLabel = stockLabelEl ? stockLabelEl.textContent.trim() : '';
      const city = locSpan ? locSpan.textContent.trim() : '';

      let images = [];
      if (card.dataset.images) {
        images = card.dataset.images.split(',').map(s => s.trim()).filter(Boolean);
      }
      if (!images.length) {
        const imgEl = card.querySelector('.stock-img img');
        if (imgEl && imgEl.src) images = [imgEl.src];
      }
      if (!images.length) images = ['img/placeholder.jpg'];

      modalState.images = images;
      modalState.index = 0;

      modalTitle.textContent = title || 'Diel';
      modalPrice.textContent = price || 'Na dopyt';
      modalPriceSuffix.textContent = suffix || '';
      modalNote.textContent = note || '';

      if (city) {
        modalLocationText.textContent = city;
        modalLocationWrap.style.display = 'flex';
      } else {
        modalLocationWrap.style.display = 'none';
      }

      if (tagContainer && tagContainer.innerHTML.trim()) {
        modalTags.innerHTML = tagContainer.innerHTML;
      } else {
        modalTags.innerHTML = '';
      }

      if (condition) {
        modalCondition.textContent = condition.toUpperCase();
        modalCondition.style.display = 'inline-flex';
      } else {
        modalCondition.style.display = 'none';
      }

      if (stockLabel) {
        modalStockLabel.textContent = stockLabel;
        modalStockLabel.style.display = 'inline-flex';
      } else {
        modalStockLabel.style.display = 'none';
      }

      updateModalImage();
      stockModal.classList.add('is-visible');
      document.body.style.overflow = 'hidden';
    }

    function closeModal() {
      stockModal.classList.remove('is-visible');
      document.body.style.overflow = '';
      modalState.images = [];
      modalState.index = 0;
      modalState.card = null;
    }

    if (modalPrev) {
      modalPrev.addEventListener('click', (e) => {
        e.stopPropagation();
        if (!modalState.images.length) return;
        modalState.index = (modalState.index - 1 + modalState.images.length) % modalState.images.length;
        updateModalImage();
      });
    }

    if (modalNext) {
      modalNext.addEventListener('click', (e) => {
        e.stopPropagation();
        if (!modalState.images.length) return;
        modalState.index = (modalState.index + 1) % modalState.images.length;
        updateModalImage();
      });
    }

    if (modalCloseBtn) modalCloseBtn.addEventListener('click', closeModal);
    if (modalCloseIcon) modalCloseIcon.addEventListener('click', closeModal);

    stockModal.addEventListener('click', (e) => {
      if (e.target === stockModal) {
        closeModal();
      }
    });

    document.addEventListener('keydown', (e) => {
      if (!stockModal.classList.contains('is-visible')) return;
      if (e.key === 'Escape') {
        closeModal();
      } else if (e.key === 'ArrowRight') {
        if (modalState.images.length) {
          modalState.index = (modalState.index + 1) % modalState.images.length;
          updateModalImage();
        }
      } else if (e.key === 'ArrowLeft') {
        if (modalState.images.length) {
          modalState.index = (modalState.index - 1 + modalState.images.length) % modalState.images.length;
          updateModalImage();
        }
      }
    });

    // ===== HOMEPAGE STOCK Z JSONU =====
    async function loadHomepageStock() {
      try {
        const response = await fetch('skladom.json');
        if (!response.ok) {
          console.error('Nepodarilo sa načítať skladom.json');
          return;
        }

        const data = await response.json();
        const items = Array.isArray(data) ? data : (data.inStock || []);

        const container = document.getElementById('stockScroll');
        if (!container) return;

        container.innerHTML = '';

        items.forEach(item => {
          if (item.showOnHome === false) return;

          let images = [];
          if (Array.isArray(item.images) && item.images.length > 0) {
            images = item.images
              .filter(src => src && src.trim() !== '');
          }
          if (!images.length && item.image) {
            images = [item.image];
          }
          if (!images.length) {
            images = ['img/placeholder.jpg'];
          }

          const condText = (item.condition || '').toLowerCase();
          const isNew =
            condText.startsWith('nov') ||
            condText === 'new';

          const bubbleClass = isNew ? 'bubble-new' : 'bubble-used';
          const bubbleLabel = isNew ? 'NOVÉ' : 'POUŽITÉ';

          const tagsHtml = Array.isArray(item.tags)
            ? item.tags.map(tag => `<span class="chip chip--tag">${tag}</span>`).join('')
            : '';

          const article = document.createElement('article');
          article.className = 'stock-item';
          article.dataset.condition = isNew ? 'Nové' : 'Použité';
          article.dataset.city = item.city || '';
          article.dataset.partId = item.id || '';
          article.dataset.note = item.note || '';
          article.dataset.stockLabel = item.stockLabel || '';
          article.dataset.price = item.price || '';
          article.dataset.priceSuffix = item.price_suffix || '';

          if (images.length) {
            article.dataset.images = images.join(',');
          }

          article.innerHTML = `
            <div class="stock-img">
              <img src="${images[0]}" alt="${item.name || ''}">
              <span class="bubble ${bubbleClass}">${bubbleLabel}</span>
            </div>

            <div class="stock-body">
              <div class="stock-top">
                <h3 class="stock-title">${item.name || ''}</h3>
                <div class="stock-price-wrap">
                  <div class="stock-price">
                    ${item.price || 'Na dopyt'}
                  </div>
                  ${item.price_suffix ? `<div class="stock-price-suffix">${item.price_suffix}</div>` : ''}
                  ${item.stockLabel ? `<div class="chip chip--stock">${item.stockLabel}</div>` : ''}
                </div>
              </div>

              ${item.city ? `
                <div class="stock-location">
                  <svg viewBox="0 0 24 24" class="pin" aria-hidden="true">
                    <path fill="currentColor"
                      d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 
                         9.5c-1.38 0-2.5-1.12-2.5-2.5S10.62 6.5 12 6.5s2.5 1.12 
                         2.5 2.5S13.38 11.5 12 11.5z"/>
                  </svg>
                  <span>${item.city}</span>
                </div>
              ` : ''}

              ${tagsHtml ? `<div class="stock-tags">${tagsHtml}</div>` : ''}

              <div class="stock-actions">
                <button
                  class="btn btnPrimary stockInterestBtn"
                  type="button"
                  data-part-id="${item.id || ''}"
                  data-part-name="${item.name || ''}"
                  data-part-price="${item.price || ''}"
                  data-part-city="${item.city || ''}"
                >
                  Mám záujem
                </button>
              </div>
            </div>
          `;

          // jednoduché prepínanie fotiek priamo v kartičke po kliku na obrázok
          if (images.length > 1) {
            const imgBox = article.querySelector('.stock-img');
            const imgEl = article.querySelector('.stock-img img');
            let currentIndex = 0;

            if (imgBox && imgEl) {
              imgBox.style.cursor = 'pointer';
              imgBox.title = 'Kliknutím prepneš fotku';

              imgBox.addEventListener('click', (ev) => {
                ev.stopPropagation();
                currentIndex = (currentIndex + 1) % images.length;
                imgEl.src = images[currentIndex];
              });
            }
          }

          container.appendChild(article);
        });

        if (!container.children.length) {
          container.innerHTML = `
            <div style="color:var(--muted2); font-size:14px;">
              Momentálne nemáme žiadne diely označené ako <b>skladom</b>.
            </div>`;
        }
      } catch (err) {
        console.error('Chyba pri načítaní skladom.json:', err);
      }
    }

    document.addEventListener('DOMContentLoaded', loadHomepageStock);

    // ===== REVEAL ON SCROLL =====
    const reveals = document.querySelectorAll('.reveal');
    const activate = () => {
      reveals.forEach(el => {
        const top = el.getBoundingClientRect().top;
        if (top < window.innerHeight - 110) el.classList.add('active');
      });
    };
    window.addEventListener('scroll', activate);
    window.addEventListener('load', activate);

    // subtle parallax
    window.addEventListener('scroll', () => {
      const sc = window.scrollY;
      const bg = document.querySelector('.bg');
      if (bg) bg.style.transform = `translateY(${sc * 0.02}px)`;
    });

    // ===== CATEGORY DROPDOWNS =====
    const cards = document.querySelectorAll('.category-card');

    const closeAll = () => {
      cards.forEach(card => card.classList.remove('is-active'));
    };

    const openCard = (card) => {
      closeAll();
      card.classList.add('is-active');
    };

    cards.forEach(card => {
      card.addEventListener('click', (e) => {
        const clickedTag = e.target.tagName.toLowerCase();
        if (['input', 'textarea', 'button', 'a', 'label', 'select', 'option'].includes(clickedTag)) return;

        e.stopPropagation();
        if (card.classList.contains('is-active')) card.classList.remove('is-active');
        else openCard(card);
      });

      card.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          e.stopPropagation();
          if (card.classList.contains('is-active')) card.classList.remove('is-active');
          else openCard(card);
        }
        if (e.key === 'Escape') card.classList.remove('is-active');
      });

      const closeBtn = card.querySelector('.closeCardBtn');
      if (closeBtn) {
        closeBtn.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          card.classList.remove('is-active');
        });
      }
    });

    document.addEventListener('click', (e) => {
      const clickedInsideAnyCard = Array.from(cards).some(card => card.contains(e.target));
      if (!clickedInsideAnyCard) closeAll();
    });

    // ===== STOCK: horizontálny scroll aj kolieskom myši =====
    const stockScroll = document.getElementById('stockScroll');
    if (stockScroll) {
      stockScroll.addEventListener('wheel', (e) => {
        if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) {
          e.preventDefault();
          stockScroll.scrollLeft += e.deltaY;
        }
      }, { passive: false });
    }

    // ===== "Mám záujem" -> kontakt + predvyplnená správa =====
    function handleInterestFromElement(btnOrCard) {
      const card = btnOrCard.closest('.stock-item');
      if (!card) return;

      const title = card.querySelector('.stock-title')?.textContent?.trim() || '';
      const price = card.querySelector('.stock-price')?.textContent?.trim() || '';
      const cond  = card.getAttribute('data-condition') || '';
      const city  = card.getAttribute('data-city') || '';
      const partId = card.dataset.partId || '';

      let text = `Mám záujem o diel: ${title}`;
      if (partId) text += ` (ID: ${partId}`;
      else text += ' (';

      const extra = [price, cond, city].filter(Boolean).join(', ');
      if (extra) text += (partId ? ', ' : '') + extra;

      if (!text.endsWith(')')) text += ')';

      window.location.hash = '#kontakt';

      setTimeout(() => {
        const ta = document.getElementById('kontaktMsg');
        if (ta) {
          ta.value = text;
          ta.focus();
          ta.selectionStart = ta.selectionEnd = ta.value.length;
        }
      }, 80);
    }

    // klik na tlačidlo "Mám záujem" v kartičke
    document.addEventListener('click', (e) => {
      const btn = e.target.closest('.stockInterestBtn');
      if (!btn) return;
      e.stopPropagation();
      handleInterestFromElement(btn);
    });

    // klik na CELÚ KARTIČKU -> otvorí MODAL (okrem tlačidla "Mám záujem" a linkov)
    document.addEventListener('click', (e) => {
      const card = e.target.closest('.stock-item');
      if (!card) return;

      if (e.target.closest('.stockInterestBtn') || e.target.closest('a')) return;

      e.preventDefault();
      openModalFromCard(card);
    });

    // "Mám záujem o tento diel" priamo z modalu
    if (modalInterestBtn) {
      modalInterestBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        if (!modalState.card) return;
        closeModal();
        handleInterestFromElement(modalState.card);
      });
    }
  </script>
</body>
</html>
